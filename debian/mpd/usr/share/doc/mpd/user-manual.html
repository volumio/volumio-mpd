<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>The Music Player Daemon - User's Manual</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book"><div class="titlepage"><div><div><h1 class="title"><a name="idm1267594396"></a>The Music Player Daemon - User's Manual</h1></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="chapter"><a href="#intro">1. Introduction</a></span></dt><dt><span class="chapter"><a href="#install">2. Installation</a></span></dt><dd><dl><dt><span class="section"><a href="#install_debian">Installing on Debian/Ubuntu</a></span></dt><dt><span class="section"><a href="#install_source">Compiling from source</a></span></dt><dd><dl><dt><span class="section"><a href="#windows_build">Compiling for Windows</a></span></dt></dl></dd><dt><span class="section"><a href="#systemd_socket"><code class="filename">systemd</code> socket activation</a></span></dt><dt><span class="section"><a href="#systemd_user"><code class="filename">systemd</code> user unit</a></span></dt></dl></dd><dt><span class="chapter"><a href="#config">3. Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="#config_file">The Configuration File</a></span></dt><dt><span class="section"><a href="#config_music_directory">Configuring the music directory</a></span></dt><dt><span class="section"><a href="#config_database_plugins">Configuring database plugins</a></span></dt><dt><span class="section"><a href="#config_neighbor_plugins">Configuring neighbor plugins</a></span></dt><dt><span class="section"><a href="#config_input_plugins">Configuring input plugins</a></span></dt><dt><span class="section"><a href="#config_decoder_plugins">Configuring decoder plugins</a></span></dt><dt><span class="section"><a href="#config_encoder_plugins">Configuring encoder plugins</a></span></dt><dt><span class="section"><a href="#config_audio_outputs">Configuring audio outputs</a></span></dt><dt><span class="section"><a href="#config_filters">Configuring filters</a></span></dt><dt><span class="section"><a href="#config_playlist_plugins">Configuring playlist plugins</a></span></dt><dt><span class="section"><a href="#config_audio_format">Audio Format Settings</a></span></dt><dd><dl><dt><span class="section"><a href="#config_global_audio_format">Global Audio Format</a></span></dt><dt><span class="section"><a href="#idm1260884556">Resampler</a></span></dt></dl></dd><dt><span class="section"><a href="#config_other">Other Settings</a></span></dt><dd><dl><dt><span class="section"><a href="#idm1260877796">The State File</a></span></dt><dt><span class="section"><a href="#idm1260870900">Resource Limitations</a></span></dt><dt><span class="section"><a href="#idm1260860348">Buffer Settings</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#advanced_config">4. Advanced configuration</a></span></dt><dd><dl><dt><span class="section"><a href="#satellite">Satellite setup</a></span></dt><dt><span class="section"><a href="#realtime">Real-Time Scheduling</a></span></dt></dl></dd><dt><span class="chapter"><a href="#use">5. Using <span class="application">MPD</span></a></span></dt><dd><dl><dt><span class="section"><a href="#client">The client</a></span></dt><dt><span class="section"><a href="#music_directory_and_database">The music directory and the database</a></span></dt><dt><span class="section"><a href="#tags">Metadata</a></span></dt><dt><span class="section"><a href="#queue">The queue</a></span></dt><dt><span class="section"><a href="#stored_playlists">Stored Playlists</a></span></dt></dl></dd><dt><span class="chapter"><a href="#advanced_usage">6. Advanced usage</a></span></dt><dd><dl><dt><span class="section"><a href="#bit_perfect">Bit-perfect playback</a></span></dt><dt><span class="section"><a href="#dsd">Direct Stream Digital (DSD)</a></span></dt></dl></dd><dt><span class="chapter"><a href="#client_hacks">7. Client Hacks</a></span></dt><dd><dl><dt><span class="section"><a href="#external_mixer">External Mixer</a></span></dt></dl></dd><dt><span class="chapter"><a href="#troubleshooting">8. Troubleshooting</a></span></dt><dd><dl><dt><span class="section"><a href="#troubleshooting_start">Where to start</a></span></dt><dt><span class="section"><a href="#support">Support</a></span></dt><dd><dl><dt><span class="section"><a href="#help">Getting Help</a></span></dt><dt><span class="section"><a href="#faq">Common Problems</a></span></dt></dl></dd><dt><span class="section"><a href="#bugs">Reporting Bugs</a></span></dt><dd><dl><dt><span class="section"><a href="#crash"><span class="application">MPD</span> crashes</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#plugin_reference">9. Plugin reference</a></span></dt><dd><dl><dt><span class="section"><a href="#database_plugins">Database plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#idm1260769756"><code class="varname">simple</code></a></span></dt><dt><span class="section"><a href="#proxy_database"><code class="varname">proxy</code></a></span></dt><dt><span class="section"><a href="#idm1260755540"><code class="varname">upnp</code></a></span></dt></dl></dd><dt><span class="section"><a href="#storage_plugins">Storage plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#idm1260754332"><code class="varname">local</code></a></span></dt><dt><span class="section"><a href="#curl_storage"><code class="varname">curl</code></a></span></dt><dt><span class="section"><a href="#smbclient_storage"><code class="varname">smbclient</code></a></span></dt><dt><span class="section"><a href="#nfs_storage"><code class="varname">nfs</code></a></span></dt></dl></dd><dt><span class="section"><a href="#neighbor_plugins">Neighbor plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#smbclient_neighbor"><code class="varname">smbclient</code></a></span></dt><dt><span class="section"><a href="#upnp_neighbor"><code class="varname">upnp</code></a></span></dt></dl></dd><dt><span class="section"><a href="#input_plugins">Input plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#idm1260741796"><code class="varname">alsa</code></a></span></dt><dt><span class="section"><a href="#idm1260739228"><code class="varname">cdio_paranoia</code></a></span></dt><dt><span class="section"><a href="#idm1260734684"><code class="varname">curl</code></a></span></dt><dt><span class="section"><a href="#ffmpeg_input"><code class="varname">ffmpeg</code></a></span></dt><dt><span class="section"><a href="#idm1260723516"><code class="varname">file</code></a></span></dt><dt><span class="section"><a href="#idm1260722828"><code class="varname">mms</code></a></span></dt><dt><span class="section"><a href="#idm1260722124"><code class="varname">nfs</code></a></span></dt><dt><span class="section"><a href="#idm1260718388"><code class="varname">smbclient</code></a></span></dt></dl></dd><dt><span class="section"><a href="#decoder_plugins">Decoder plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#adplug_decoder"><code class="varname">adplug</code></a></span></dt><dt><span class="section"><a href="#audiofile_decoder"><code class="varname">audiofile</code></a></span></dt><dt><span class="section"><a href="#faad_decoder"><code class="varname">faad</code></a></span></dt><dt><span class="section"><a href="#ffmpeg_decoder"><code class="varname">ffmpeg</code></a></span></dt><dt><span class="section"><a href="#flac_decoder"><code class="varname">flac</code></a></span></dt><dt><span class="section"><a href="#dsdiff_decoder"><code class="varname">dsdiff</code></a></span></dt><dt><span class="section"><a href="#dsf_decoder"><code class="varname">dsf</code></a></span></dt><dt><span class="section"><a href="#idm1260697956"><code class="varname">fluidsynth</code></a></span></dt><dt><span class="section"><a href="#idm1260693164"><code class="varname">gme</code></a></span></dt><dt><span class="section"><a href="#mad_decoder"><code class="varname">mad</code></a></span></dt><dt><span class="section"><a href="#idm1260688172"><code class="varname">mikmod</code></a></span></dt><dt><span class="section"><a href="#idm1260682812"><code class="varname">modplug</code></a></span></dt><dt><span class="section"><a href="#mpcdec_decoder"><code class="varname">mpcdec</code></a></span></dt><dt><span class="section"><a href="#mpg123_decoder"><code class="varname">mpg123</code></a></span></dt><dt><span class="section"><a href="#idm1260676516"><code class="varname">pcm</code></a></span></dt><dt><span class="section"><a href="#sidplay_decoder"><code class="varname">sidplay</code></a></span></dt><dt><span class="section"><a href="#sndfile_decoder"><code class="varname">sndfile</code></a></span></dt><dt><span class="section"><a href="#vorbis_decoder"><code class="varname">vorbis</code></a></span></dt><dt><span class="section"><a href="#wavpack_decoder"><code class="varname">wavpack</code></a></span></dt><dt><span class="section"><a href="#idm1260664996"><code class="varname">wildmidi</code></a></span></dt></dl></dd><dt><span class="section"><a href="#encoder_plugins">Encoder plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#idm1260660604"><code class="varname">flac</code></a></span></dt><dt><span class="section"><a href="#idm1260656900"><code class="varname">lame</code></a></span></dt><dt><span class="section"><a href="#idm1260651988"><code class="varname">null</code></a></span></dt><dt><span class="section"><a href="#idm1260651260"><code class="varname">shine</code></a></span></dt><dt><span class="section"><a href="#idm1260647676"><code class="varname">twolame</code></a></span></dt><dt><span class="section"><a href="#vorbis_encoder"><code class="varname">vorbis</code></a></span></dt><dt><span class="section"><a href="#idm1260638076"><code class="varname">wave</code></a></span></dt></dl></dd><dt><span class="section"><a href="#resampler_plugins">Resampler plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#internal_resampler"><code class="varname">internal</code></a></span></dt><dt><span class="section"><a href="#libsamplerate_resampler"><code class="varname">libsamplerate</code></a></span></dt><dt><span class="section"><a href="#soxr_resampler"><code class="varname">soxr</code></a></span></dt></dl></dd><dt><span class="section"><a href="#output_plugins">Output plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#alsa_output"><code class="varname">alsa</code></a></span></dt><dt><span class="section"><a href="#idm1260584484"><code class="varname">ao</code></a></span></dt><dt><span class="section"><a href="#idm1260576516"><code class="varname">sndio</code></a></span></dt><dt><span class="section"><a href="#idm1260571044"><code class="varname">fifo</code></a></span></dt><dt><span class="section"><a href="#idm1260565100"><code class="varname">jack</code></a></span></dt><dt><span class="section"><a href="#httpd_output"><code class="varname">httpd</code></a></span></dt><dt><span class="section"><a href="#idm1260542388"><code class="varname">null</code></a></span></dt><dt><span class="section"><a href="#oss_output"><code class="varname">oss</code></a></span></dt><dt><span class="section"><a href="#idm1260527252"><code class="varname">openal</code></a></span></dt><dt><span class="section"><a href="#idm1260522804"><code class="varname">osx</code></a></span></dt><dt><span class="section"><a href="#idm1260512908"><code class="varname">pipe</code></a></span></dt><dt><span class="section"><a href="#pulse_output"><code class="varname">pulse</code></a></span></dt><dt><span class="section"><a href="#idm1260502324"><code class="varname">roar</code></a></span></dt><dt><span class="section"><a href="#idm1260496532"><code class="varname">recorder</code></a></span></dt><dt><span class="section"><a href="#shout_output"><code class="varname">shout</code></a></span></dt><dt><span class="section"><a href="#idm1260463412"><code class="varname">solaris</code></a></span></dt></dl></dd><dt><span class="section"><a href="#playlist_plugins">Playlist plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#idm1260458916"><code class="varname">asx</code></a></span></dt><dt><span class="section"><a href="#idm1260457964"><code class="varname">cue</code></a></span></dt><dt><span class="section"><a href="#idm1260457012"><code class="varname">embcue</code></a></span></dt><dt><span class="section"><a href="#idm1260456292"><code class="varname">m3u</code></a></span></dt><dt><span class="section"><a href="#idm1260455340"><code class="varname">extm3u</code></a></span></dt><dt><span class="section"><a href="#idm1260454388"><code class="varname">flac</code></a></span></dt><dt><span class="section"><a href="#idm1260453500"><code class="varname">pls</code></a></span></dt><dt><span class="section"><a href="#idm1260452548"><code class="varname">rss</code></a></span></dt><dt><span class="section"><a href="#idm1260451556"><code class="varname">soundcloud</code></a></span></dt><dt><span class="section"><a href="#idm1260447876"><code class="varname">xspf</code></a></span></dt></dl></dd></dl></dd></dl></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="intro"></a>Chapter 1. Introduction</h1></div></div></div><p>
      This document is work in progress.  Most of it may be incomplete
      yet.  Please help!
    </p><p>
      <span class="application">MPD</span> (Music Player Daemon) is, as the
      name suggests, a server software allowing you to remotely play
      your music, handle playlists, deliver music (HTTP streams with
      various sub-protocols) and organize playlists.
    </p><p>
      It has been written with minimal resource usage and stability in
      mind!  Infact, it runs fine on a Pentium 75, allowing you to use
      your cheap old PC to create a stereo system!
    </p><p>
      <span class="application">MPD</span> supports also gapless playback,
      buffered audio output, and crossfading!
    </p><p>
      The separate client and server design allows users to choose a
      user interface that best suites their tastes independently of
      the underlying daemon, which actually plays music!
    </p></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="install"></a>Chapter 2. Installation</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="#install_debian">Installing on Debian/Ubuntu</a></span></dt><dt><span class="section"><a href="#install_source">Compiling from source</a></span></dt><dd><dl><dt><span class="section"><a href="#windows_build">Compiling for Windows</a></span></dt></dl></dd><dt><span class="section"><a href="#systemd_socket"><code class="filename">systemd</code> socket activation</a></span></dt><dt><span class="section"><a href="#systemd_user"><code class="filename">systemd</code> user unit</a></span></dt></dl></div><p>
      We recommend that you use the software installation routines of
      your distribution to install <span class="application">MPD</span>.
      Most operating systems have a <span class="application">MPD</span>
      package, which is very easy to install.
    </p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="install_debian"></a>Installing on Debian/Ubuntu</h2></div></div></div><p>
        Install the package <span class="application">MPD</span> via APT:
      </p><pre class="programlisting">apt-get install mpd</pre><p>
        When installed this way, <span class="application">MPD</span> by
        default looks for music in
        <code class="filename">/var/lib/mpd/music/</code>; this may not be
        correct. Look at your <code class="filename">/etc/mpd.conf</code>
        file...
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="install_source"></a>Compiling from source</h2></div></div></div><p>
        Download the source tarball from <a class="ulink" href="http://www.musicpd.org/download.html" target="_top">the
        <span class="application">MPD</span> home page</a> and unpack
        it:
      </p><pre class="programlisting">tar xf mpd-version.tar.xz
cd mpd-version</pre><p>
        Make sure that all the required libraries and build tools are
        installed.  The <code class="filename">INSTALL</code> file has a list.
      </p><p>
        For example, the following installs a fairly complete list of
        build dependencies on Debian Wheezy:
      </p><pre class="programlisting">
apt-get install g++ \
  libmad0-dev libmpg123-dev libid3tag0-dev \
  libflac-dev libvorbis-dev libopus-dev \
  libadplug-dev libaudiofile-dev libsndfile1-dev libfaad-dev \
  libfluidsynth-dev libgme-dev libmikmod2-dev libmodplug-dev \
  libmpcdec-dev libwavpack-dev libwildmidi-dev \
  libsidplay2-dev libsidutils-dev libresid-builder-dev \
  libavcodec-dev libavformat-dev \
  libmp3lame-dev \
  libsamplerate0-dev libsoxr-dev \
  libbz2-dev libcdio-paranoia-dev libiso9660-dev libmms-dev \
  libzzip-dev \
  libcurl4-gnutls-dev libyajl-dev libexpat-dev \
  libasound2-dev libao-dev libjack-jackd2-dev libopenal-dev \
  libpulse-dev libroar-dev libshout3-dev \
  libmpdclient-dev \
  libnfs-dev libsmbclient-dev \
  libupnp-dev \
  libavahi-client-dev \
  libsqlite3-dev \
  libsystemd-daemon-dev libwrap0-dev \
  libcppunit-dev xmlto \
  libboost-dev \
  libicu-dev
      </pre><p>
        Now configure the source tree:
      </p><pre class="programlisting">./configure</pre><p>
        The <em class="parameter"><code>--help</code></em> argument shows a list of
        compile-time options.  When everything is ready and
        configured, compile:
      </p><pre class="programlisting">make</pre><p>
        And install:
      </p><pre class="programlisting">make install</pre><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="windows_build"></a>Compiling for Windows</h3></div></div></div><p>
          Even though it does not "feel" like a Windows application,
          <span class="application">MPD</span> works well under Windows.
          Its build process follows the "Linux style", and may seem
          awkward for Windows people (who are not used to compiling
          their software, anyway).
        </p><p>
          Basically, there are three ways to compile
          <span class="application">MPD</span> for Windows:
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
              Build on Windows for Windows.  All you need to do is
              described above already: configure and make.
            </p><p>
              For Windows users, this is kind of unusual, because few
              Windows users have a GNU toolchain and a UNIX shell
              installed.
            </p></li><li class="listitem"><p>
              Build on Linux for Windows.  This is described above
              already: configure and make.  You need the <a class="ulink" href="https://mingw-w64.org/" target="_top"><span class="application">mingw-w64</span>
              cross compiler</a>.  Pass
              <em class="parameter"><code>--host=i686-w64-mingw32</code></em> (32 bit)
              or <em class="parameter"><code>--host=x86_64-w64-mingw32</code></em> (64
              bit) to configure.
            </p><p>
              This is somewhat natural for Linux users.  Many
              distributions have <span class="application">mingw-w64</span>
              packages.  The remaining difficulty here is installing
              all the external libraries.  And
              <span class="application">MPD</span> usually needs many,
              making this method cumbersome for the casual user.
            </p></li><li class="listitem"><p>
              Build on Linux for Windows using the
              <span class="application">MPD</span>'s library build script.
            </p></li></ol></div><p>
          This section is about the latter.
        </p><p>
          Just like with the native build, unpack the
          <span class="application">MPD</span> source tarball and change
          into the directory.  Then, instead of
          <span class="command"><strong>./configure</strong></span>, type:
        </p><pre class="programlisting">./win32/build.py --64</pre><p>
          This downloads various library sources, and then configures
          and builds <span class="application">MPD</span> (for x64; to build
          a 32 bit binary, pass <em class="parameter"><code>--32</code></em>).  The
          resulting EXE files is linked statically, i.e. it contains
          all the libraries already, and you do not need carry DLLs
          around.  It is large, but easy to use.  If you wish to have
          a small <code class="filename">mpd.exe</code> with DLLs, you need to
          compile manually, without the <code class="filename">build.py</code>
          script.
        </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="systemd_socket"></a><code class="filename">systemd</code> socket activation</h2></div></div></div><p>
        Using <code class="filename">systemd</code>, you can launch
        <span class="application">MPD</span> on demand when the first client
        attempts to connect.
      </p><p>
        <span class="application">MPD</span> comes with two
        <span class="application">systemd</span> unit files: a "service"
        unit and a "socket" unit.  These will only be installed when
        <span class="application">MPD</span> was configured with
        <em class="parameter"><code>--with-systemdsystemunitdir=/lib/systemd/system</code></em>.
      </p><p>
        To enable socket activation, type:
      </p><pre class="programlisting">systemctl enable mpd.socket
systemctl start mpd.socket</pre><p>
        In this configuration, <span class="application">MPD</span> will
        ignore the <code class="varname">bind_to_address</code> and
        <code class="varname">port</code> settings.
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="systemd_user"></a><code class="filename">systemd</code> user unit</h2></div></div></div><p>
        You can launch <span class="application">MPD</span> as a
        <code class="filename">systemd</code> user unit.  The service file will
        only be installed when <span class="application">MPD</span> was
        configured with
        <em class="parameter"><code>--with-systemduserunitdir=/usr/lib/systemd/user</code></em>
        or
        <em class="parameter"><code>--with-systemduserunitdir=$HOME/.local/share/systemd/user</code></em>.
      </p><p>
        Once the user unit is installed, you can start and stop
        <span class="application">MPD</span> like any other service:
      </p><pre class="programlisting">systemctl --user start mpd</pre><p>
        To auto-start <span class="application">MPD</span> upon login, type:
      </p><pre class="programlisting">systemctl --user enable mpd</pre></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="config"></a>Chapter 3. Configuration</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="#config_file">The Configuration File</a></span></dt><dt><span class="section"><a href="#config_music_directory">Configuring the music directory</a></span></dt><dt><span class="section"><a href="#config_database_plugins">Configuring database plugins</a></span></dt><dt><span class="section"><a href="#config_neighbor_plugins">Configuring neighbor plugins</a></span></dt><dt><span class="section"><a href="#config_input_plugins">Configuring input plugins</a></span></dt><dt><span class="section"><a href="#config_decoder_plugins">Configuring decoder plugins</a></span></dt><dt><span class="section"><a href="#config_encoder_plugins">Configuring encoder plugins</a></span></dt><dt><span class="section"><a href="#config_audio_outputs">Configuring audio outputs</a></span></dt><dt><span class="section"><a href="#config_filters">Configuring filters</a></span></dt><dt><span class="section"><a href="#config_playlist_plugins">Configuring playlist plugins</a></span></dt><dt><span class="section"><a href="#config_audio_format">Audio Format Settings</a></span></dt><dd><dl><dt><span class="section"><a href="#config_global_audio_format">Global Audio Format</a></span></dt><dt><span class="section"><a href="#idm1260884556">Resampler</a></span></dt></dl></dd><dt><span class="section"><a href="#config_other">Other Settings</a></span></dt><dd><dl><dt><span class="section"><a href="#idm1260877796">The State File</a></span></dt><dt><span class="section"><a href="#idm1260870900">Resource Limitations</a></span></dt><dt><span class="section"><a href="#idm1260860348">Buffer Settings</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="config_file"></a>The Configuration File</h2></div></div></div><p>
        <span class="application">MPD</span> reads its configuration from a
        text file.  Usually, that is
        <code class="filename">/etc/mpd.conf</code>, unless a different path is
        specified on the command line.  If you run
        <span class="application">MPD</span> as a user daemon (and not as a
        system daemon), the configuration is read from
        <code class="filename">$XDG_CONFIG_HOME/mpd/mpd.conf</code> (usually
        <code class="filename">~/.config/mpd/mpd.conf</code>).
      </p><p>
        Each line in the configuration file contains a setting name
        and its value, e.g.:
      </p><pre class="programlisting">connection_timeout "5"</pre><p>
        For settings which specify a filesystem path, the tilde is
        expanded:
      </p><pre class="programlisting">music_directory "~/Music"</pre><p>
        Some of the settings are grouped in blocks with curly braces,
        e.g. per-plugin settings:
      </p><pre class="programlisting">audio_output {
    type "alsa"
    name "My ALSA output"
    device "iec958:CARD=Intel,DEV=0"
    mixer_control "PCM"
}</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="config_music_directory"></a>Configuring the music directory</h2></div></div></div><p>
        When you play local files, you should organize them within a
        directory called the "music directory".  This is configured in
        <span class="application">MPD</span> with the
        <code class="varname">music_directory</code> setting.
      </p><p>
        By default, <span class="application">MPD</span> follows symbolic
        links in the music directory.  This behavior can be switched
        off: <code class="varname">follow_outside_symlinks</code> controls
        whether <span class="application">MPD</span> follows links pointing
        to files outside of the music directory, and
        <code class="varname">follow_inside_symlinks</code> lets you disable
        symlinks to files inside the music directory.
      </p><p>
        Instead of using local files, you can use <a class="link" href="#storage_plugins" title="Storage plugins">storage plugins</a> to access
        files on a remote file server.  For example, to use music from
        the SMB/CIFS server "myfileserver" on the share called
        "Music", configure the music directory
        "<em class="parameter"><code>smb://myfileserver/Music</code></em>".  For a
        recipe, read the <a class="link" href="#satellite" title="Satellite setup">Satellite
        MPD</a> section.
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="config_database_plugins"></a>Configuring database plugins</h2></div></div></div><p>
        If a music directory is configured, one database plugin is
        used.  To configure this plugin, add a
        <code class="varname">database</code> block to
        <code class="filename">mpd.conf</code>:
      </p><pre class="programlisting">database {
    plugin "simple"
    path "/var/lib/mpd/db"
}
      </pre><p>
        The following table lists the <code class="varname">database</code>
        options valid for all plugins:
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>
                Name
              </th><th>
                Description
              </th></tr></thead><tbody><tr><td>
                <code class="varname">plugin</code>
              </td><td>
                The name of the plugin.
              </td></tr></tbody></table></div><p>
        More information can be found in the <a class="link" href="#database_plugins" title="Database plugins">database plugin reference</a>.
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="config_neighbor_plugins"></a>Configuring neighbor plugins</h2></div></div></div><p>
        All neighbor plugins are disabled by default to avoid unwanted
        overhead.  To enable (and configure) a plugin, add a
        <code class="varname">neighbor</code> block to
        <code class="filename">mpd.conf</code>:
      </p><pre class="programlisting">neighbors {
    plugin "smbclient"
}
      </pre><p>
        The following table lists the <code class="varname">neighbor</code>
        options valid for all plugins:
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>
                Name
              </th><th>
                Description
              </th></tr></thead><tbody><tr><td>
                <code class="varname">plugin</code>
              </td><td>
                The name of the plugin.
              </td></tr></tbody></table></div><p>
        More information can be found in the <a class="link" href="#neighbor_plugins" title="Neighbor plugins">neighbor plugin reference</a>.
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="config_input_plugins"></a>Configuring input plugins</h2></div></div></div><p>
        To configure an input plugin, add a <code class="varname">input</code>
        block to <code class="filename">mpd.conf</code>:
      </p><pre class="programlisting">input {
    plugin "curl"
    proxy "proxy.local"
}
      </pre><p>
        The following table lists the <code class="varname">input</code> options
        valid for all plugins:
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>
                Name
              </th><th>
                Description
              </th></tr></thead><tbody><tr><td>
                <code class="varname">plugin</code>
              </td><td>
                The name of the plugin.
              </td></tr><tr><td>
                <code class="varname">enabled</code>
                <em class="parameter"><code>yes|no</code></em>
              </td><td>
                Allows you to disable a input plugin without
                recompiling.  By default, all plugins are enabled.
              </td></tr></tbody></table></div><p>
        More information can be found in the <a class="link" href="#input_plugins" title="Input plugins">input plugin reference</a>.
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="config_decoder_plugins"></a>Configuring decoder plugins</h2></div></div></div><p>
        Most decoder plugins do not need any special configuration.
        To configure a decoder, add a <code class="varname">decoder</code> block
        to <code class="filename">mpd.conf</code>:
      </p><pre class="programlisting">decoder {
    plugin "wildmidi"
    config_file "/etc/timidity/timidity.cfg"
}
      </pre><p>
        The following table lists the <code class="varname">decoder</code>
        options valid for all plugins:
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>
                Name
              </th><th>
                Description
              </th></tr></thead><tbody><tr><td>
                <code class="varname">plugin</code>
              </td><td>
                The name of the plugin.
              </td></tr><tr><td>
                <code class="varname">enabled</code>
                <em class="parameter"><code>yes|no</code></em>
              </td><td>
                Allows you to disable a decoder plugin without
                recompiling.  By default, all plugins are enabled.
              </td></tr></tbody></table></div><p>
        More information can be found in the <a class="link" href="#decoder_plugins" title="Decoder plugins">decoder plugin reference</a>.
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="config_encoder_plugins"></a>Configuring encoder plugins</h2></div></div></div><p>
        Encoders are used by some of the output plugins (such as <a class="link" href="#shout_output" title="shout"><code class="varname">shout</code></a>).  The
        encoder settings are included in the
        <code class="varname">audio_output</code> section.  More information can
        be found in the <a class="link" href="#encoder_plugins" title="Encoder plugins">encoder plugin
        reference</a>.
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="config_audio_outputs"></a>Configuring audio outputs</h2></div></div></div><p>
        Audio outputs are devices which actually play the audio chunks
        produced by <span class="application">MPD</span>.  You can configure
        any number of audio output devices, but there must be at least
        one.  If none is configured, <span class="application">MPD</span>
        attempts to auto-detect.  Usually, this works quite well with
        ALSA, OSS and on Mac OS X.
      </p><p>
        To configure an audio output manually, add one or more
        <code class="varname">audio_output</code> blocks to
        <code class="filename">mpd.conf</code>:
      </p><pre class="programlisting">audio_output {
    type "alsa"
    name "my ALSA device"
    device "hw:0"
}
      </pre><p>
        The following table lists the <code class="varname">audio_output</code>
        options valid for all plugins:
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>
                Name
              </th><th>
                Description
              </th></tr></thead><tbody><tr><td>
                <code class="varname">type</code>
              </td><td>
                The name of the plugin.
              </td></tr><tr><td>
                <code class="varname">name</code>
              </td><td>
                The name of the audio output.  It is visible to the
                client.  Some plugins also use it internally, e.g. as
                a name registered in the PULSE server.
              </td></tr><tr><td><a name="ao_format"></a>
                <code class="varname">format</code>
              </td><td>
                <p>
                  Always open the audio output with the specified
                  audio format
                  (<em class="replaceable"><code>samplerate:bits:channels</code></em>),
                  regardless of the format of the input file.  This is
                  optional for most plugins.
                </p>
                <p>
                  Any of the three attributes may be an asterisk to
                  specify that this attribute should not be enforced,
                  example: <em class="parameter"><code>48000:16:*</code></em>.
                  <em class="parameter"><code>*:*:*</code></em> is equal to not having
                  a <code class="varname">format</code> specification.
                </p>
                <p>
                  The following values are valid for
                  <code class="varname">bits</code>: <code class="varname">8</code>
                  (signed 8 bit integer samples),
                  <code class="varname">16</code>, <code class="varname">24</code> (signed
                  24 bit integer samples padded to 32 bit),
                  <code class="varname">32</code> (signed 32 bit integer
                  samples), <code class="varname">f</code> (32 bit floating
                  point, -1.0 to 1.0), "<code class="varname">dsd</code>" means
                  DSD (Direct Stream Digital).  For DSD, there are
                  special cases such as "<code class="varname">dsd64</code>",
                  which allows you to omit the sample rate
                  (e.g. <em class="parameter"><code>dsd512:2</code></em> for stereo
                  DSD512, i.e. 22.5792 MHz).
                </p>
                <p>
                  The sample rate is special for DSD:
                  <span class="application">MPD</span> counts the number of
                  bytes, not bits.  Thus, a DSD "bit" rate of 22.5792
                  MHz (DSD512) is 2822400 from
                  <span class="application">MPD</span>'s point of view
                  (44100*512/8).
                </p>
              </td></tr><tr><td>
                <code class="varname">enabled</code>
                  <em class="parameter"><code>yes|no</code></em>
              </td><td>
                Specifies whether this audio output is enabled when
                <span class="application">MPD</span> is started.  By
                default, all audio outputs are enabled.  This is just
                the default setting when there is no state file; with
                a state file, the previous state is restored.
              </td></tr><tr><td>
                <code class="varname">tags</code>
                <em class="parameter"><code>yes|no</code></em>
              </td><td>
                If set to <em class="parameter"><code>no</code></em>, then
                <span class="application">MPD</span> will not send tags to
                this output.  This is only useful for output plugins
                that can receive tags, for example the <a class="link" href="#httpd_output" title="httpd"><code class="varname">httpd</code></a>
                output plugin.
              </td></tr><tr><td>
                <code class="varname">always_on</code>
                  <em class="parameter"><code>yes|no</code></em>
              </td><td>
                If set to <em class="parameter"><code>yes</code></em>, then
                <span class="application">MPD</span> attempts to keep this
                audio output always open.  This may be useful for
                streaming servers, when you don't want to disconnect
                all listeners even when playback is accidentally
                stopped.
              </td></tr><tr><td>
                <code class="varname">mixer_type</code>
                <em class="parameter"><code>hardware|software|null|none</code></em>
              </td><td>
                Specifies which mixer should be used for this audio
                output: the hardware mixer (available for <a class="link" href="#alsa_output" title="alsa">ALSA</a>, <a class="link" href="#oss_output" title="oss">OSS</a> and <a class="link" href="#pulse_output" title="pulse">PulseAudio</a>), the
                software mixer, the "null" mixer
                (<em class="parameter"><code>null</code></em>; allows setting the
                volume, but with no effect; this can be used as a
                trick to implement an <a class="link" href="#external_mixer" title="External Mixer">external mixer</a>) or no
                mixer (<em class="parameter"><code>none</code></em>).  By default, the
                hardware mixer is used for devices which support it,
                and none for the others.
              </td></tr><tr><td>
                <code class="varname">replay_gain_handler</code>
                <em class="parameter"><code>software|mixer|none</code></em>
              </td><td>
                Specifies how replay gain is applied.  The default is
                <em class="parameter"><code>software</code></em>, which uses an
                internal software volume control.
                <em class="parameter"><code>mixer</code></em> uses the configured
                (hardware) mixer control.  <em class="parameter"><code>none</code></em>
                disables replay gain on this audio output.
              </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="config_filters"></a>Configuring filters</h2></div></div></div><p>
        Filters are plugins which modify an audio stream.
      </p><p>
        To configure a filter, add a <code class="varname">filter</code> block
        to <code class="filename">mpd.conf</code>:
      </p><pre class="programlisting">filter {
    plugin "volume"
    name "software volume"
}
      </pre><p>
        The following table lists the <code class="varname">filter</code>
        options valid for all plugins:
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>
                Name
              </th><th>
                Description
              </th></tr></thead><tbody><tr><td>
                <code class="varname">plugin</code>
              </td><td>
                The name of the plugin.
              </td></tr><tr><td>
                <code class="varname">name</code>
              </td><td>
                The name of the filter.
              </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="config_playlist_plugins"></a>Configuring playlist plugins</h2></div></div></div><p>
        Playlist plugins are used to load remote playlists (protocol
        commands <span class="command"><strong>load</strong></span>,
        <span class="command"><strong>listplaylist</strong></span> and
        <span class="command"><strong>listplaylistinfo</strong></span>).  This is not related to
        <span class="application">MPD</span>'s playlist directory.
      </p><p>
        To configure a playlist plugin, add a
        <code class="varname">playlist_plugin</code> block to
        <code class="filename">mpd.conf</code>:
      </p><pre class="programlisting">playlist_plugin {
    name "m3u"
    enabled "true"
}
      </pre><p>
        The following table lists the
        <code class="varname">playlist_plugin</code> options valid for all
        plugins:
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>
                Name
              </th><th>
                Description
              </th></tr></thead><tbody><tr><td>
                <code class="varname">name</code>
              </td><td>
                The name of the plugin.
              </td></tr><tr><td>
                <code class="varname">enabled</code>
                <em class="parameter"><code>yes|no</code></em>
              </td><td>
                Allows you to disable a input plugin without
                recompiling.  By default, all plugins are enabled.
              </td></tr></tbody></table></div><p>
        More information can be found in the <a class="link" href="#playlist_plugins" title="Playlist plugins">playlist plugin reference</a>.
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="config_audio_format"></a>Audio Format Settings</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="config_global_audio_format"></a>Global Audio Format</h3></div></div></div><p>
          The setting <code class="varname">audio_output_format</code> forces
          <span class="application">MPD</span> to use one audio format for
          all outputs.  Doing that is usually not a good idea.  The
          values are the same as in <a class="link" href="#ao_format"><code class="varname">format</code> in the <code class="varname">audio_output</code>
          section</a>.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260884556"></a>Resampler</h3></div></div></div><p>
          Sometimes, music needs to be resampled before it can be
          played; for example, CDs use a sample rate of 44,100 Hz
          while many cheap audio chips can only handle 48,000 Hz.
          Resampling reduces the quality and consumes a lot of CPU.
          There are different options, some of them optimized for high
          quality and others for low CPU usage, but you can't have
          both at the same time.  Often, the resampler is the
          component that is responsible for most of
          <span class="application">MPD</span>'s CPU usage.  Since
          <span class="application">MPD</span> comes with high quality
          defaults, it may appear that <span class="application">MPD</span>
          consumes more CPU than other software.
        </p><p>
          Check the <a class="link" href="#resampler_plugins" title="Resampler plugins">resampler plugin
          reference</a> for a list of resamplers and how to
          configure them.
        </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="config_other"></a>Other Settings</h2></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                <code class="varname">metadata_to_use</code>
                <em class="parameter"><code>TAG1,TAG2,...</code></em>
              </td><td>
                Use only the specified tags, and ignore the others.
                This setting can reduce the database size and
                <span class="application">MPD</span>'s memory usage by
                omitting unused tags.  By default, all tags but
                <code class="varname">comment</code> are enabled.  The special
                value "none" disables all tags.
              </td></tr></tbody></table></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260877796"></a>The State File</h3></div></div></div><p>
          The <span class="emphasis"><em>state file</em></span> is a file where
          <span class="application">MPD</span> saves and restores its state
          (play queue, playback position etc.) to keep it persistent
          across restarts and reboots.  It is an optional setting.
        </p><p>
          <span class="application">MPD</span> will attempt to load the
          state file during startup, and will save it when shutting
          down the daemon.  Additionally, the state file is refreshed
          every two minutes (after each state change).
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">state_file</code>
                  <em class="parameter"><code>PATH</code></em>
                </td><td>
                  Specify the state file location.  The parent
                  directory must be writable by the
                  <span class="application">MPD</span> user
                  (<em class="parameter"><code>+wx</code></em>).
                </td></tr><tr><td>
                  <code class="varname">state_file_interval</code>
                  <em class="parameter"><code>SECONDS</code></em>
                </td><td>
                  Auto-save the state file this number of seconds
                  after each state change.  Defaults to
                  <em class="parameter"><code>120</code></em> (2 minutes).
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260870900"></a>Resource Limitations</h3></div></div></div><p>
          These settings are various limitations to prevent
          <span class="application">MPD</span> from using too many
          resources (denial of service).
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">connection_timeout</code>
                  <em class="parameter"><code>SECONDS</code></em>
                </td><td>
                  If a client does not send any new data in this time
                  period, the connection is closed.  Clients waiting
                  in "idle" mode are excluded from this.  Default is
                  <em class="parameter"><code>60</code></em>.
                </td></tr><tr><td>
                  <code class="varname">max_connections</code>
                  <em class="parameter"><code>NUMBER</code></em>
                </td><td>
                  This specifies the maximum number of clients that
                  can be connected to <span class="application">MPD</span>
                  at the same time.  Default is
                  <em class="parameter"><code>5</code></em>.
                </td></tr><tr><td>
                  <code class="varname">max_playlist_length</code>
                  <em class="parameter"><code>NUMBER</code></em>
                </td><td>
                  The maximum number of songs that can be in the
                  playlist.  Default is <em class="parameter"><code>16384</code></em>.
                </td></tr><tr><td>
                  <code class="varname">max_command_list_size</code>
                  <em class="parameter"><code>KBYTES</code></em>
                </td><td>
                  The maximum size a command list.  Default is
                  <em class="parameter"><code>2048</code></em> (2 MiB).
                </td></tr><tr><td>
                  <code class="varname">max_output_buffer_size</code>
                  <em class="parameter"><code>KBYTES</code></em>
                </td><td>
                  The maximum size of the output buffer to a client
                  (maximum response size).  Default is
                  <em class="parameter"><code>8192</code></em> (8 MiB).
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260860348"></a>Buffer Settings</h3></div></div></div><p>
          Do not change these unless you know what you are doing.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">audio_buffer_size</code>
                  <em class="parameter"><code>KBYTES</code></em>
                </td><td>
                  Adjust the size of the internal audio buffer.
                  Default is <em class="parameter"><code>4096</code></em> (4 MiB).
                </td></tr><tr><td>
                  <code class="varname">buffer_before_play</code>
                  <em class="parameter"><code>PERCENT</code></em>
                </td><td>
                  Control the percentage of the buffer which is filled
                  before beginning to play.  Increasing this reduces
                  the chance of audio file skipping, at the cost of
                  increased time prior to audio playback.  Default is
                  <em class="parameter"><code>10%</code></em>.
                </td></tr></tbody></table></div></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="advanced_config"></a>Chapter 4. Advanced configuration</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="#satellite">Satellite setup</a></span></dt><dt><span class="section"><a href="#realtime">Real-Time Scheduling</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="satellite"></a>Satellite setup</h2></div></div></div><p>
        <span class="application">MPD</span> runs well on weak machines such
        as the <a class="ulink" href="http://www.raspberrypi.org/" target="_top">Raspberry
        Pi</a>.  However, such hardware tends to not have storage
        big enough to hold a music collection.  Mounting music from a
        file server can be very slow, especially when updating the
        database.
      </p><p>
        One approach for optimization is running
        <span class="application">MPD</span> on the file server, which not
        only exports raw files, but also provides access to a readily
        scanned database.  Example configuration:
      </p><pre class="programlisting">music_directory "nfs://fileserver.local/srv/mp3"
#music_directory "smb://fileserver.local/mp3"

database {
    plugin "proxy"
    host "fileserver.local"
}
      </pre><p>
        The <a class="link" href="#config_music_directory" title="Configuring the music directory"><code class="varname">music_directory</code></a>
        setting tells <span class="application">MPD</span> to read files
        from the given NFS server.  It does this by connecting to the
        server from userspace.  This does not actually mount the file
        server into the kernel's virtual file system, and thus
        requires no kernel cooperation and no special privileges.  It
        does not even require a kernel with NFS support, only the
        <a class="link" href="#nfs_storage" title="nfs"><code class="filename">nfs</code></a>
        storage plugin (using the <code class="filename">libnfs</code>
        userspace library).  The same can be done with SMB/CIFS using
        the <a class="link" href="#smbclient_storage" title="smbclient"><code class="filename">smbclient</code></a>
        storage plugin (using <code class="filename">libsmbclient</code>).
      </p><p>
        The <a class="link" href="#config_database_plugins" title="Configuring database plugins"><code class="varname">database</code></a>
        setting tells <span class="application">MPD</span> to pass all
        database queries on to the <span class="application">MPD</span>
        instance running on the file server (using the <a class="link" href="#proxy_database" title="proxy"><code class="filename">proxy</code></a>
        plugin).
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="realtime"></a>Real-Time Scheduling</h2></div></div></div><p>
        On Linux, <span class="application">MPD</span> attempts to configure
        <a class="ulink" href="https://en.wikipedia.org/wiki/Real-time_computing" target="_top">real-time
        scheduling</a> for some threads that benefit from it.
      </p><p>
        This is only possible you allow <span class="application">MPD</span>
        to do it.  This privilege is controlled by
        <code class="varname">RLIMIT_RTPRIO</code>
        <code class="varname">RLIMIT_RTTIME</code>.  You can configure this
        privilege with <span class="command"><strong>ulimit</strong></span> before launching
        <span class="application">MPD</span>:
      </p><pre class="programlisting">ulimit -HS -r 50; mpd</pre><p>
        Or you can use the <span class="command"><strong>prlimit</strong></span> program from the
        <span class="application">util-linux</span> package:
      </p><pre class="programlisting">prlimit --rtprio=50 --rttime=unlimited mpd</pre><p>
        The <span class="application">systemd</span> service file shipped
        with <span class="application">MPD</span> comes with this setting.
      </p><p>
        This works only if the Linux kernel was compiled with
        <code class="varname">CONFIG_RT_GROUP_SCHED</code> disabled.  Use the
        following command to check this option for your current
        kernel:
      </p><pre class="programlisting">zgrep ^CONFIG_RT_GROUP_SCHED /proc/config.gz</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
          There is a rumor that real-time scheduling improves audio
          quality.  That is not true.  All it does is reduce the
          probability of skipping (audio buffer xruns) when the
          computer is under heavy load.
        </p></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="use"></a>Chapter 5. Using <span class="application">MPD</span></h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="#client">The client</a></span></dt><dt><span class="section"><a href="#music_directory_and_database">The music directory and the database</a></span></dt><dt><span class="section"><a href="#tags">Metadata</a></span></dt><dt><span class="section"><a href="#queue">The queue</a></span></dt><dt><span class="section"><a href="#stored_playlists">Stored Playlists</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="client"></a>The client</h2></div></div></div><p>
        After you have installed, configured and started
        <span class="application">MPD</span>, you choose a client to control
        the playback.
      </p><p>
        The most basic client is <code class="filename">mpc</code>, which
        provides a command line interface.  It is useful in shell
        scripts.  Many people bind specific <code class="filename">mpc</code>
        commands to hotkeys.
      </p><p>
        The <a class="ulink" href="http://www.musicpd.org/clients/" target="_top"><span class="application">MPD</span>
        Wiki</a> contains an extensive list of clients to choose
        from.
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="music_directory_and_database"></a>The music directory and the database</h2></div></div></div><p>
        The "music directory" is where you store your music files.
        <span class="application">MPD</span> stores all relevant meta
        information about all songs in its "database".  Whenever you
        add, modify or remove songs in the music directory, you have
        to update the database, for example with
        <code class="filename">mpc</code>:
      </p><pre class="programlisting">mpc update</pre><p>
        Depending on the size of your music collection and the speed
        of the storage, this can take a while.
      </p><p>
        To exclude a file from the update, create a file called
        <code class="filename">.mpdignore</code> in its parent directory.  Each
        line of that file may contain a list of shell wildcards.
        Matching files in the current directory and all subdirectories
        are excluded.
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tags"></a>Metadata</h2></div></div></div><p>
        When scanning or playing a song,
        <span class="application">MPD</span> parses its metadata.  The
        following tags are supported:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
      <code class="varname">artist</code>: the artist name.  Its meaning is not
      well-defined; see <code class="varname">composer</code> and
      <code class="varname">performer</code> for more specific tags.
    </p></li><li class="listitem"><p>
      <code class="varname">artistsort</code>: same as
      <code class="varname">artist</code>, but for sorting.  This usually omits
      prefixes such as "The".
    </p></li><li class="listitem"><p>
      <code class="varname">album</code>: the album name.
    </p></li><li class="listitem"><p>
      <code class="varname">albumsort</code>: same as <code class="varname">album</code>,
      but for sorting.
    </p></li><li class="listitem"><p>
      <code class="varname">albumartist</code>: on multi-artist albums, this is
      the artist name which shall be used for the whole album.  The
      exact meaning of this tag is not well-defined.
    </p></li><li class="listitem"><p>
      <code class="varname">albumartistsort</code>: same as
      <code class="varname">albumartist</code>, but for sorting.
    </p></li><li class="listitem"><p>
      <code class="varname">title</code>: the song title.
    </p></li><li class="listitem"><p>
      <code class="varname">track</code>: the decimal track number within the
      album.
    </p></li><li class="listitem"><p>
      <code class="varname">name</code>: a name for this song.  This is not the
      song title.  The exact meaning of this tag is not well-defined.
      It is often used by badly configured internet radio stations
      with broken tags to squeeze both the artist name and the song
      title in one tag.
    </p></li><li class="listitem"><p>
      <code class="varname">genre</code>: the music genre.
    </p></li><li class="listitem"><p>
      <code class="varname">date</code>: the song's release date.  This is
      usually a 4-digit year.
    </p></li><li class="listitem"><p>
      <code class="varname">composer</code>: the artist who composed the song.
    </p></li><li class="listitem"><p>
      <code class="varname">performer</code>: the artist who performed the song.
    </p></li><li class="listitem"><p>
      <code class="varname">comment</code>: a human-readable comment about this
      song.  The exact meaning of this tag is not well-defined.
    </p></li><li class="listitem"><p>
      <code class="varname">disc</code>: the decimal disc number in a multi-disc
      album.
    </p></li><li class="listitem"><p>
      <code class="varname">musicbrainz_artistid</code>: the artist id in the
      <a class="ulink" href="http://musicbrainz.org/doc/MusicBrainzTag" target="_top">MusicBrainz</a>
      database.
    </p></li><li class="listitem"><p>
      <code class="varname">musicbrainz_albumid</code>: the album id in the
      <a class="ulink" href="http://musicbrainz.org/doc/MusicBrainzTag" target="_top">MusicBrainz</a>
      database.
    </p></li><li class="listitem"><p>
      <code class="varname">musicbrainz_albumartistid</code>: the album artist
      id in the <a class="ulink" href="http://musicbrainz.org/doc/MusicBrainzTag" target="_top">MusicBrainz</a>
      database.
    </p></li><li class="listitem"><p>
      <code class="varname">musicbrainz_trackid</code>: the track id in the
      <a class="ulink" href="http://musicbrainz.org/doc/MusicBrainzTag" target="_top">MusicBrainz</a>
      database.
    </p></li><li class="listitem"><p>
      <code class="varname">musicbrainz_releasetrackid</code>: the release track
      id in the <a class="ulink" href="http://musicbrainz.org/doc/MusicBrainzTag" target="_top">MusicBrainz</a>
      database.
    </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="queue"></a>The queue</h2></div></div></div><p>
        The queue (sometimes called "current playlist") is a list of
        songs to be played by <span class="application">MPD</span>.  To play
        a song, add it to the queue and start playback.  Most clients
        offer an interface to edit the queue.
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="stored_playlists"></a>Stored Playlists</h2></div></div></div><p>
        Stored playlists are some kind of secondary playlists which
        can be created, saved, edited and deleted by the client.  They
        are addressed by their names.  Its contents can be loaded into
        the queue, to be played back.  The
        <code class="varname">playlist_directory</code> setting specifies where
        those playlists are stored.
      </p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="advanced_usage"></a>Chapter 6. Advanced usage</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="#bit_perfect">Bit-perfect playback</a></span></dt><dt><span class="section"><a href="#dsd">Direct Stream Digital (DSD)</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bit_perfect"></a>Bit-perfect playback</h2></div></div></div><p>
        "Bit-perfect playback" is a phrase used by audiophiles to
        describe a setup that plays back digital music as-is, without
        applying any modifications such as resampling, format
        conversion or software volume.  Naturally, this implies a
        lossless codec.
      </p><p>
        By default, <span class="application">MPD</span> attempts to do
        bit-perfect playback, unless you tell it not to.  Precondition
        is a sound chip that supports the audio format of your music
        files.  If the audio format is not supported,
        <span class="application">MPD</span> attempts to fall back to the
        nearest supported audio format, trying to lose as little
        quality as possible.
      </p><p>
        To verify if <span class="application">MPD</span> converts the audio
        format, enable verbose logging, and watch for these lines:
      </p><pre class="programlisting">decoder: audio_format=44100:24:2, seekable=true
output: opened plugin=alsa name="An ALSA output" audio_format=44100:16:2
output: converting from 44100:24:2</pre><p>
        This example shows that a 24 bit file is being played, but the
        sond chip cannot play 24 bit.  It falls back to 16 bit,
        discarding 8 bit.
      </p><p>
        However, this does not yet prove bit-perfect playback;
        <span class="application">ALSA</span> may be fooling
        <span class="application">MPD</span> that the audio format is
        supported.  To verify the format really being sent to the
        physical sound chip, try:
      </p><pre class="programlisting">cat /proc/asound/card*/pcm*p/sub*/hw_params
access: RW_INTERLEAVED
format: S16_LE
subformat: STD
channels: 2
rate: 44100 (44100/1)
period_size: 4096
buffer_size: 16384</pre><p>
        Obey the "format" row, which indicates that the current
        playback format is 16 bit (signed 16 bit integer, little
        endian).
      </p><p>
        Check list for bit-perfect playback:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Use the <a class="link" href="#alsa_output" title="alsa">ALSA</a> output
            plugin.
          </p></li><li class="listitem"><p>
            Disable sound processing inside
            <span class="application">ALSA</span> by configuring a
            "hardware" device (<em class="parameter"><code>hw:0,0</code></em> or
            similar).
          </p></li><li class="listitem"><p>
            Don't use software volume (setting <a class="link" href="#config_audio_outputs" title="Configuring audio outputs"><code class="varname">mixer_type</code></a>).
          </p></li><li class="listitem"><p>
            Don't force <span class="application">MPD</span> to use a
            specific audio format (settings <a class="link" href="#config_audio_outputs" title="Configuring audio outputs"><code class="varname">format</code></a>,
            <a class="link" href="#config_global_audio_format" title="Global Audio Format"><code class="varname">audio_output_format</code></a>).
          </p></li><li class="listitem"><p>
            Verify that you are really doing bit-perfect playback
            using <span class="application">MPD</span>'s verbose log and
            <code class="filename">/proc/asound/card*/pcm*p/sub*/hw_params</code>.
            Some DACs can also indicate the audio format.
          </p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dsd"></a>Direct Stream Digital (DSD)</h2></div></div></div><p>
        DSD (<a class="ulink" href="https://en.wikipedia.org/wiki/Direct_Stream_Digital" target="_top">Direct
        Stream Digital</a>) is a digital format that stores audio
        as a sequence of single-bit values at a very high sampling
        rate.
      </p><p>
        <span class="application">MPD</span> understands the file formats
        <a class="link" href="#dsdiff_decoder" title="dsdiff"><code class="filename">dff</code></a>
        and <a class="link" href="#dsf_decoder" title="dsf"><code class="filename">dsf</code></a>.  There
        are three ways to play back DSD:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            Native DSD playback.  Requires
            <span class="application">ALSA</span> 1.0.27.1 or later, a sound
            driver/chip that supports DSD and of course a DAC that
            supports DSD.
          </p></li><li class="listitem"><p>
            DoP (DSD over PCM) playback.  This wraps DSD inside fake
            24 bit PCM according to the <a class="ulink" href="http://dsd-guide.com/dop-open-standard" target="_top">DoP
            standard</a>.  Requires a DAC that supports DSD.  No
            support from ALSA and the sound chip required (except for
            <a class="link" href="#bit_perfect" title="Bit-perfect playback">bit-perfect</a> 24 bit PCM
            support).
          </p></li><li class="listitem"><p>
            Convert DSD to PCM on-the-fly.
          </p></li></ul></div><p>
        Native DSD playback is used automatically if available.  DoP
        is only used if enabled explicitly using the <a class="link" href="#alsa_output" title="alsa"><code class="varname">dop</code></a> option,
        because there is no way for <span class="application">MPD</span> to
        find out whether the DAC supports it.  DSD to PCM conversion
        is the fallback if DSD cannot be used directly.
      </p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="client_hacks"></a>Chapter 7. Client Hacks</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="#external_mixer">External Mixer</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="external_mixer"></a>External Mixer</h2></div></div></div><p>
        The setting '<code class="varname">mixer_type</code>
        "<em class="parameter"><code>null</code></em>"' asks
        <span class="application">MPD</span> to pretend that there is a
        mixer, but not actually do something.  This allows you to
        implement a <span class="application">MPD</span> client which
        listens for <code class="varname">mixer</code> events, queries the
        current (fake) volume, and uses it to program an external
        mixer.  For example, your client can forward this setting to
        your amplifier.
      </p></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="troubleshooting"></a>Chapter 8. Troubleshooting</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="#troubleshooting_start">Where to start</a></span></dt><dt><span class="section"><a href="#support">Support</a></span></dt><dd><dl><dt><span class="section"><a href="#help">Getting Help</a></span></dt><dt><span class="section"><a href="#faq">Common Problems</a></span></dt></dl></dd><dt><span class="section"><a href="#bugs">Reporting Bugs</a></span></dt><dd><dl><dt><span class="section"><a href="#crash"><span class="application">MPD</span> crashes</a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="troubleshooting_start"></a>Where to start</h2></div></div></div><p>
        Make sure you have the latest <span class="application">MPD</span>
        version (via <span class="command"><strong>mpd --version</strong></span>, not
        <span class="command"><strong>mpc version</strong></span>).  All the time, bugs are found
        and fixed, and your problem might be a bug that is fixed
        already.  Do not ask for help unless you have the latest
        <span class="application">MPD</span> version.  The most common
        excuse is when your distribution ships an old
        <span class="application">MPD</span> version - in that case, please
        ask your distribution for help, and not the
        <span class="application">MPD</span> project.
      </p><p>
        Check the log file.  Configure '<code class="varname">log_level</code>
        "<em class="parameter"><code>verbose</code></em>"' or pass
        <em class="parameter"><code>--verbose</code></em> to <code class="filename">mpd</code>.
      </p><p>
        Sometimes, it is helpful to run <span class="application">MPD</span>
        in a terminal and follow what happens.  This is how to do it:
      </p><pre class="programlisting">mpd --stdout --no-daemon --verbose</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="support"></a>Support</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="help"></a>Getting Help</h3></div></div></div><p>
          The <span class="application">MPD</span> project runs <a class="ulink" href="https://forum.musicpd.org/" target="_top">a forum</a> and an IRC
          channel (<code class="varname">#mpd</code> on Freenode) for requesting
          help.  Visit <a class="ulink" href="https://www.musicpd.org/help/" target="_top">the
          <span class="application">MPD</span> help page</a> for details
          on how to get help.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="faq"></a>Common Problems</h3></div></div></div><div class="qandaset"><a name="idm1260797756"></a><dl><dt>1.  <a href="#idm1260797508">Database</a></dt><dd><dl><dt>Q: <a href="#idm1260797188">
                  I can't see my music in the
                  MPD database!
                </a></dt><dt>Q: <a href="#idm1260791884">
                  MPD doesn't read ID3
                  tags!
                </a></dt></dl></dd><dt>2.  <a href="#idm1260789460">Playback</a></dt><dd><dl><dt>Q: <a href="#idm1260789140">I can't hear music on my client!</a></dt><dt>Q: <a href="#idm1260784988">"Device or resource busy"</a></dt></dl></dd></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h5 class="title"><a name="idm1260797508"></a>1. Database</h5></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Q: <a href="#idm1260797188">
                  I can't see my music in the
                  MPD database!
                </a></dt><dt>Q: <a href="#idm1260791884">
                  MPD doesn't read ID3
                  tags!
                </a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a name="idm1260797188"></a><a name="idm1260797060"></a><p><b>Q:</b></p></td><td align="left" valign="top"><p>
                  I can't see my music in the
                  <span class="application">MPD</span> database!
                </p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>A:</b></p></td><td align="left" valign="top"><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                      Check your <code class="varname">music_directory</code>
                      setting.
                    </p></li></ul></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                      Does the <span class="application">MPD</span> user
                      have read permission on all music files, and
                      read+execute permission on all music directories
                      (and all of their parent directories)?
                    </p></li></ul></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                      Did you update the database?  (<span class="command"><strong>mpc
                      update</strong></span>)
                    </p></li></ul></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                      Did you enable all relevant decoder plugins at
                      compile time?  <span class="command"><strong>mpd --version</strong></span>
                      will tell you.
                    </p></li></ul></div></td></tr><tr class="question"><td align="left" valign="top"><a name="idm1260791884"></a><a name="idm1260791756"></a><p><b>Q:</b></p></td><td align="left" valign="top"><p>
                  <span class="application">MPD</span> doesn't read ID3
                  tags!
                </p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>A:</b></p></td><td align="left" valign="top"><p>
                  You probably compiled <span class="application">MPD</span>
                  without <code class="filename">libid3tag</code>.
                  <span class="command"><strong>mpd --version</strong></span> will tell you.
                </p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h5 class="title"><a name="idm1260789460"></a>2. Playback</h5></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>Q: <a href="#idm1260789140">I can't hear music on my client!</a></dt><dt>Q: <a href="#idm1260784988">"Device or resource busy"</a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a name="idm1260789140"></a><a name="idm1260789012"></a><p><b>Q:</b></p></td><td align="left" valign="top"><p>I can't hear music on my client!</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>A:</b></p></td><td align="left" valign="top"><p>
                  That problem usually follows a misunderstanding of the
                  nature of <span class="application">MPD</span>.
                  <span class="application">MPD</span> is a remote-controlled
                  music player, not a music distribution system.
                  Usually, the speakers are connected to the box where
                  <span class="application">MPD</span> runs, and the
                  <span class="application">MPD</span> client only sends
                  control commands, but the client does not actually
                  play your music.
                </p><p>
                  <span class="application">MPD</span> has output plugins
                  which allow hearing music on a remote host (such as
                  <a class="link" href="#httpd_output" title="httpd"><code class="varname">httpd</code></a>),
                  but that is not <span class="application">MPD</span>'s
                  primary design goal.
                </p></td></tr><tr class="question"><td align="left" valign="top"><a name="idm1260784988"></a><a name="idm1260784860"></a><p><b>Q:</b></p></td><td align="left" valign="top"><p>"Device or resource busy"</p></td></tr><tr class="answer"><td align="left" valign="top"><p><b>A:</b></p></td><td align="left" valign="top"><p>
                  This ALSA error means that another program uses your
                  sound hardware exclusively.  You can stop that
                  program to allow <span class="application">MPD</span> to
                  use it.
                </p><p>
                  Sometimes, this other program is
                  <span class="application">PulseAudio</span>, which can
                  multiplex sound from several applications, to allow
                  them to share your sound chip.  In this case, it
                  might be a good idea for <a class="link" href="#pulse_output" title="pulse"><span class="application">MPD</span>
                  to use <span class="application">PulseAudio</span></a>
                  as well, instead of using ALSA directly.
                </p></td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bugs"></a>Reporting Bugs</h2></div></div></div><p>
        If you believe you found a bug in
        <span class="application">MPD</span>, report it on <a class="ulink" href="https://bugs.musicpd.org/my_view_page.php" target="_top">the bug
        tracker</a>.
      </p><p>
        Your bug report should contain:
      </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            the output of <span class="command"><strong>mpd --version</strong></span>
          </p></li><li class="listitem"><p>
            your <a class="link" href="#config_file" title="The Configuration File">configuration file</a>
            (<code class="filename">mpd.conf</code>)
          </p></li><li class="listitem"><p>
            relevant portions of the log file (--verbose)
          </p></li><li class="listitem"><p>
            be clear about what you expect MPD to do, and what is
            actually happening
          </p></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="crash"></a><span class="application">MPD</span> crashes</h3></div></div></div><p>
          All <span class="application">MPD</span> crashes are bugs which
          must be fixed by a developer, and you should write a bug
          report.  (Many crash bugs are caused by codec libraries
          used by <span class="application">MPD</span>, and then that
          library must be fixed; but in any case, the
          <span class="application">MPD</span> bug tracker is a good place
          to report it first if you don't know.)
        </p><p>
          A crash bug report needs to contain a "backtrace".
        </p><p>
          First of all, your <span class="application">MPD</span> executable
          must not be "stripped" (i.e. debug information deleted).
          The executables shipped with Linux distributions are usually
          stripped, but some have so-called "debug" packages (package
          <code class="filename">mpd-dbg</code> or
          <code class="filename">mpd-dbgsym</code> on Debian,
          <code class="filename">mpd-debug</code> on other distributions).
          Make sure this package is installed.
        </p><p>
          You can extract the backtrace from a core dump, or by
          running <span class="application">MPD</span> in a debugger, e.g.:
        </p><pre class="programlisting">gdb --args mpd --stdout --no-daemon --verbose
run</pre><p>
          As soon as you have reproduced the crash, type
          "<span class="command"><strong>bt</strong></span>" on the <code class="filename">gdb</code>
          command prompt.  Copy the output to your bug report.
        </p></div></div></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="plugin_reference"></a>Chapter 9. Plugin reference</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="#database_plugins">Database plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#idm1260769756"><code class="varname">simple</code></a></span></dt><dt><span class="section"><a href="#proxy_database"><code class="varname">proxy</code></a></span></dt><dt><span class="section"><a href="#idm1260755540"><code class="varname">upnp</code></a></span></dt></dl></dd><dt><span class="section"><a href="#storage_plugins">Storage plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#idm1260754332"><code class="varname">local</code></a></span></dt><dt><span class="section"><a href="#curl_storage"><code class="varname">curl</code></a></span></dt><dt><span class="section"><a href="#smbclient_storage"><code class="varname">smbclient</code></a></span></dt><dt><span class="section"><a href="#nfs_storage"><code class="varname">nfs</code></a></span></dt></dl></dd><dt><span class="section"><a href="#neighbor_plugins">Neighbor plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#smbclient_neighbor"><code class="varname">smbclient</code></a></span></dt><dt><span class="section"><a href="#upnp_neighbor"><code class="varname">upnp</code></a></span></dt></dl></dd><dt><span class="section"><a href="#input_plugins">Input plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#idm1260741796"><code class="varname">alsa</code></a></span></dt><dt><span class="section"><a href="#idm1260739228"><code class="varname">cdio_paranoia</code></a></span></dt><dt><span class="section"><a href="#idm1260734684"><code class="varname">curl</code></a></span></dt><dt><span class="section"><a href="#ffmpeg_input"><code class="varname">ffmpeg</code></a></span></dt><dt><span class="section"><a href="#idm1260723516"><code class="varname">file</code></a></span></dt><dt><span class="section"><a href="#idm1260722828"><code class="varname">mms</code></a></span></dt><dt><span class="section"><a href="#idm1260722124"><code class="varname">nfs</code></a></span></dt><dt><span class="section"><a href="#idm1260718388"><code class="varname">smbclient</code></a></span></dt></dl></dd><dt><span class="section"><a href="#decoder_plugins">Decoder plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#adplug_decoder"><code class="varname">adplug</code></a></span></dt><dt><span class="section"><a href="#audiofile_decoder"><code class="varname">audiofile</code></a></span></dt><dt><span class="section"><a href="#faad_decoder"><code class="varname">faad</code></a></span></dt><dt><span class="section"><a href="#ffmpeg_decoder"><code class="varname">ffmpeg</code></a></span></dt><dt><span class="section"><a href="#flac_decoder"><code class="varname">flac</code></a></span></dt><dt><span class="section"><a href="#dsdiff_decoder"><code class="varname">dsdiff</code></a></span></dt><dt><span class="section"><a href="#dsf_decoder"><code class="varname">dsf</code></a></span></dt><dt><span class="section"><a href="#idm1260697956"><code class="varname">fluidsynth</code></a></span></dt><dt><span class="section"><a href="#idm1260693164"><code class="varname">gme</code></a></span></dt><dt><span class="section"><a href="#mad_decoder"><code class="varname">mad</code></a></span></dt><dt><span class="section"><a href="#idm1260688172"><code class="varname">mikmod</code></a></span></dt><dt><span class="section"><a href="#idm1260682812"><code class="varname">modplug</code></a></span></dt><dt><span class="section"><a href="#mpcdec_decoder"><code class="varname">mpcdec</code></a></span></dt><dt><span class="section"><a href="#mpg123_decoder"><code class="varname">mpg123</code></a></span></dt><dt><span class="section"><a href="#idm1260676516"><code class="varname">pcm</code></a></span></dt><dt><span class="section"><a href="#sidplay_decoder"><code class="varname">sidplay</code></a></span></dt><dt><span class="section"><a href="#sndfile_decoder"><code class="varname">sndfile</code></a></span></dt><dt><span class="section"><a href="#vorbis_decoder"><code class="varname">vorbis</code></a></span></dt><dt><span class="section"><a href="#wavpack_decoder"><code class="varname">wavpack</code></a></span></dt><dt><span class="section"><a href="#idm1260664996"><code class="varname">wildmidi</code></a></span></dt></dl></dd><dt><span class="section"><a href="#encoder_plugins">Encoder plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#idm1260660604"><code class="varname">flac</code></a></span></dt><dt><span class="section"><a href="#idm1260656900"><code class="varname">lame</code></a></span></dt><dt><span class="section"><a href="#idm1260651988"><code class="varname">null</code></a></span></dt><dt><span class="section"><a href="#idm1260651260"><code class="varname">shine</code></a></span></dt><dt><span class="section"><a href="#idm1260647676"><code class="varname">twolame</code></a></span></dt><dt><span class="section"><a href="#vorbis_encoder"><code class="varname">vorbis</code></a></span></dt><dt><span class="section"><a href="#idm1260638076"><code class="varname">wave</code></a></span></dt></dl></dd><dt><span class="section"><a href="#resampler_plugins">Resampler plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#internal_resampler"><code class="varname">internal</code></a></span></dt><dt><span class="section"><a href="#libsamplerate_resampler"><code class="varname">libsamplerate</code></a></span></dt><dt><span class="section"><a href="#soxr_resampler"><code class="varname">soxr</code></a></span></dt></dl></dd><dt><span class="section"><a href="#output_plugins">Output plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#alsa_output"><code class="varname">alsa</code></a></span></dt><dt><span class="section"><a href="#idm1260584484"><code class="varname">ao</code></a></span></dt><dt><span class="section"><a href="#idm1260576516"><code class="varname">sndio</code></a></span></dt><dt><span class="section"><a href="#idm1260571044"><code class="varname">fifo</code></a></span></dt><dt><span class="section"><a href="#idm1260565100"><code class="varname">jack</code></a></span></dt><dt><span class="section"><a href="#httpd_output"><code class="varname">httpd</code></a></span></dt><dt><span class="section"><a href="#idm1260542388"><code class="varname">null</code></a></span></dt><dt><span class="section"><a href="#oss_output"><code class="varname">oss</code></a></span></dt><dt><span class="section"><a href="#idm1260527252"><code class="varname">openal</code></a></span></dt><dt><span class="section"><a href="#idm1260522804"><code class="varname">osx</code></a></span></dt><dt><span class="section"><a href="#idm1260512908"><code class="varname">pipe</code></a></span></dt><dt><span class="section"><a href="#pulse_output"><code class="varname">pulse</code></a></span></dt><dt><span class="section"><a href="#idm1260502324"><code class="varname">roar</code></a></span></dt><dt><span class="section"><a href="#idm1260496532"><code class="varname">recorder</code></a></span></dt><dt><span class="section"><a href="#shout_output"><code class="varname">shout</code></a></span></dt><dt><span class="section"><a href="#idm1260463412"><code class="varname">solaris</code></a></span></dt></dl></dd><dt><span class="section"><a href="#playlist_plugins">Playlist plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#idm1260458916"><code class="varname">asx</code></a></span></dt><dt><span class="section"><a href="#idm1260457964"><code class="varname">cue</code></a></span></dt><dt><span class="section"><a href="#idm1260457012"><code class="varname">embcue</code></a></span></dt><dt><span class="section"><a href="#idm1260456292"><code class="varname">m3u</code></a></span></dt><dt><span class="section"><a href="#idm1260455340"><code class="varname">extm3u</code></a></span></dt><dt><span class="section"><a href="#idm1260454388"><code class="varname">flac</code></a></span></dt><dt><span class="section"><a href="#idm1260453500"><code class="varname">pls</code></a></span></dt><dt><span class="section"><a href="#idm1260452548"><code class="varname">rss</code></a></span></dt><dt><span class="section"><a href="#idm1260451556"><code class="varname">soundcloud</code></a></span></dt><dt><span class="section"><a href="#idm1260447876"><code class="varname">xspf</code></a></span></dt></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="database_plugins"></a>Database plugins</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260769756"></a><code class="varname">simple</code></h3></div></div></div><p>
          The default plugin.  Stores a copy of the database in
          memory.  A file is used for permanent storage.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">path</code>
                </td><td>
                  The path of the database file.
                </td></tr><tr><td>
                  <code class="varname">cache_directory</code>
                </td><td>
                  The path of the cache directory for additional
                  storages mounted at runtime.  This setting is
                  necessary for the <span class="command"><strong>mount</strong></span> protocol
                  command.
                </td></tr><tr><td>
                  <code class="varname">compress</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  Compress the database file using
                  <code class="filename">gzip</code>?  Enabled by default (if
                  built with <code class="filename">zlib</code>).
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="proxy_database"></a><code class="varname">proxy</code></h3></div></div></div><p>
          Provides access to the database of another
          <span class="application">MPD</span> instance using
          <code class="filename">libmpdclient</code>.  This is useful when you
          run mount the music directory via NFS/SMB, and the file
          server already runs a <span class="application">MPD</span>
          instance.  Only the file server needs to update the
          database.
        </p><p>
          Note that unless overridden by the below settings (e.g. by
          setting them to a blank value), general curl configuration
          from environment variables such as http_proxy or specified
          in ~/.curlrc will be in effect.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">host</code>
                </td><td>
                  The host name of the "master"
                  <span class="application">MPD</span> instance.
                </td></tr><tr><td>
                  <code class="varname">port</code>
                </td><td>
                  The port number of the "master"
                  <span class="application">MPD</span> instance.
                </td></tr><tr><td>
                  <code class="varname">keepalive</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  Send TCP keepalive packets to the "master"
                  <span class="application">MPD</span> instance?  This option can
                  help avoid certain firewalls dropping inactive
                  connections, at the expensive of a very small amount of
                  additional network traffic.  Disabled by default.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260755540"></a><code class="varname">upnp</code></h3></div></div></div><p>
          Provides access to UPnP media servers.
        </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="storage_plugins"></a>Storage plugins</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260754332"></a><code class="varname">local</code></h3></div></div></div><p>
          The default plugin which gives
          <span class="application">MPD</span> access to local files.  It is
          used when <code class="varname">music_directory</code> refers to a
          local directory.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="curl_storage"></a><code class="varname">curl</code></h3></div></div></div><p>
          A WebDAV client using <code class="filename">libcurl</code>.  It is
          used when <code class="varname">music_directory</code> contains a
          <em class="parameter"><code>http://</code></em> or
          <em class="parameter"><code>https://</code></em> URI, for example
          "<em class="parameter"><code>https://the.server/dav/</code></em>".
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="smbclient_storage"></a><code class="varname">smbclient</code></h3></div></div></div><p>
          Load music files from a SMB/CIFS server.  It is used when
          <code class="varname">music_directory</code> contains a
          <em class="parameter"><code>smb://</code></em> URI, for example
          "<em class="parameter"><code>smb://myfileserver/Music</code></em>".
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="nfs_storage"></a><code class="varname">nfs</code></h3></div></div></div><p>
          Load music files from a NFS server.  It is used when
          <code class="varname">music_directory</code> contains a
          <em class="parameter"><code>nfs://</code></em> URI according to <a class="ulink" href="http://tools.ietf.org/html/rfc2224" target="_top">RFC2224</a>,
          for example "<em class="parameter"><code>nfs://servername/path</code></em>".
        </p><p>
          This plugin uses <a class="ulink" href="https://github.com/sahlberg/libnfs" target="_top"><code class="filename">libnfs</code></a>,
          which supports only NFS version 3.  Since
          <span class="application">MPD</span> is not allowed to bind to
          "privileged ports", the NFS server needs to enable the
          "insecure" setting; example
          <code class="filename">/etc/exports</code>:
        </p><pre class="programlisting">/srv/mp3 192.168.1.55(ro,insecure)</pre><p>
          Don't fear: "insecure" does not mean that your NFS server is
          insecure.  A few decades ago, people thought the concept of
          "privileged ports" would make network services "secure",
          which was a fallacy.  The absence of this obsolete
          "security" measure means little.
        </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="neighbor_plugins"></a>Neighbor plugins</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="smbclient_neighbor"></a><code class="varname">smbclient</code></h3></div></div></div><p>
          Provides a list of SMB/CIFS servers on the local network.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="upnp_neighbor"></a><code class="varname">upnp</code></h3></div></div></div><p>
          Provides a list of UPnP servers on the local network.
        </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="input_plugins"></a>Input plugins</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260741796"></a><code class="varname">alsa</code></h3></div></div></div><p>
          Allows <span class="application">MPD</span> on Linux to play audio
          directly from a soundcard using the scheme
          <code class="filename">alsa://</code>. Audio is formatted as 44.1 kHz
          16-bit stereo (CD format). Examples:
        </p><p>
          <code class="filename">mpc add alsa://</code> plays audio from device hw:0,0
        </p><p>
          <code class="filename">mpc add alsa://hw:1,0</code> plays audio from device
          hw:1,0
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260739228"></a><code class="varname">cdio_paranoia</code></h3></div></div></div><p>
          Plays audio CDs.  The URI has the form:
          "<code class="filename">cdda://[DEVICE][/TRACK]</code>".  The
          simplest form <code class="filename">cdda://</code> plays the whole
          disc in the default drive.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">default_byte_order</code>
                <em class="parameter"><code>little_endian|big_endian</code></em>
                </td><td>
                  If the CD drive does not specify a byte order,
                  <span class="application">MPD</span> assumes it is the
                  CPU's native byte order.  This setting allows
                  overriding this.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260734684"></a><code class="varname">curl</code></h3></div></div></div><p>
          Opens remote files or streams over HTTP.
        </p><p>
          Note that unless overridden by the below settings (e.g. by
          setting them to a blank value), general curl configuration
          from environment variables such as
          <code class="varname">http_proxy</code> or specified in
          <code class="filename">~/.curlrc</code> will be in effect.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">proxy</code>
                </td><td>
                  Sets the address of the HTTP proxy server.
                </td></tr><tr><td>
                  <code class="varname">proxy_user</code>,
                  <code class="varname">proxy_password</code>
                </td><td>
                  Configures proxy authentication.
                </td></tr><tr><td>
                  <code class="varname">verify_peer</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  Verify the peer's SSL certificate?  <a class="ulink" href="http://curl.haxx.se/libcurl/c/CURLOPT_SSL_VERIFYPEER.html" target="_top">More
                  information</a>.
                </td></tr><tr><td>
                  <code class="varname">verify_host</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  Verify the certificate's name against host?  <a class="ulink" href="http://curl.haxx.se/libcurl/c/CURLOPT_SSL_VERIFYHOST.html" target="_top">More
                  information</a>.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ffmpeg_input"></a><code class="varname">ffmpeg</code></h3></div></div></div><p>
          Access to various network protocols implemented by the
          <span class="application">FFmpeg</span> library:
          <code class="filename">gopher://</code>,
          <code class="filename">rtp://</code>,
          <code class="filename">rtsp://</code>,
          <code class="filename">rtmp://</code>,
          <code class="filename">rtmpt://</code>,
          <code class="filename">rtmps://</code>
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260723516"></a><code class="varname">file</code></h3></div></div></div><p>
          Opens local files.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260722828"></a><code class="varname">mms</code></h3></div></div></div><p>
          Plays streams with the MMS protocol.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260722124"></a><code class="varname">nfs</code></h3></div></div></div><p>
          Allows <span class="application">MPD</span> to access files on
          NFSv3 servers without actually mounting them (i.e. in
          userspace, without help from the kernel's VFS layer).  All
          URIs with the <code class="filename">nfs://</code> scheme are used
          according to <a class="ulink" href="http://tools.ietf.org/html/rfc2224" target="_top">RFC2224</a>.
          Example:
        </p><p>
          <code class="filename">mpc add nfs://servername/path/filename.ogg</code>
        </p><p>
          Note that this usually requires enabling the "insecure" flag
          in the server's <code class="filename">/etc/exports</code> file,
          because <span class="application">MPD</span> cannot bind to
          so-called "privileged" ports.  Don't fear: this will not
          make your file server insecure; the flag was named in a time
          long ago when privileged ports were thought to be meaningful
          for security.  By today's standards, NFSv3 is not secure at
          all, and if you believe it is, you're already doomed.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260718388"></a><code class="varname">smbclient</code></h3></div></div></div><p>
          Allows <span class="application">MPD</span> to access files on
          SMB/CIFS servers (e.g. Samba or Microsoft Windows).  All
          URIs with the <code class="filename">smb://</code> scheme are used.
          Example:
        </p><p>
          <code class="filename">mpc add smb://servername/sharename/filename.ogg</code>
        </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="decoder_plugins"></a>Decoder plugins</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="adplug_decoder"></a><code class="varname">adplug</code></h3></div></div></div><p>
          Decodes AdLib files.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">sample_rate</code>
                  <em class="parameter"><code></code></em>
                </td><td>
                  The sample rate that shall be synthesized by the
                  plugin.  Defaults to 48000.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="audiofile_decoder"></a><code class="varname">audiofile</code></h3></div></div></div><p>
          Decodes WAV and AIFF files using
          <code class="filename">libaudiofile</code>.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="faad_decoder"></a><code class="varname">faad</code></h3></div></div></div><p>
          Decodes AAC files using <code class="filename">libfaad</code>.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ffmpeg_decoder"></a><code class="varname">ffmpeg</code></h3></div></div></div><p>
          Decodes various codecs using
          <span class="application">FFmpeg</span>.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">analyzeduration</code>
                  <em class="parameter"><code>VALUE</code></em>
                </td><td>
                  Sets the FFmpeg muxer option
                  <code class="varname">analyzeduration</code>, which specifies
                  how many microseconds are analyzed to probe the
                  input.  The <a class="ulink" href="https://ffmpeg.org/ffmpeg-formats.html" target="_top">FFmpeg
                  formats documentation</a> has more information.
                </td></tr><tr><td>
                  <code class="varname">probesize</code>
                  <em class="parameter"><code>VALUE</code></em>
                </td><td>
                  Sets the FFmpeg muxer option
                  <code class="varname">probesize</code>, which specifies
                  probing size in bytes, i.e. the size of the data to
                  analyze to get stream information.  The <a class="ulink" href="https://ffmpeg.org/ffmpeg-formats.html" target="_top">FFmpeg
                  formats documentation</a> has more information.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="flac_decoder"></a><code class="varname">flac</code></h3></div></div></div><p>
          Decodes FLAC files using
          <span class="application">libFLAC</span>.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="dsdiff_decoder"></a><code class="varname">dsdiff</code></h3></div></div></div><p>
          Decodes DFF files containing DSDIFF data (e.g. SACD rips).
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">lsbitfirst</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  Decode the least significant bit first.  Default is
                  <em class="parameter"><code>no</code></em>.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="dsf_decoder"></a><code class="varname">dsf</code></h3></div></div></div><p>
          Decodes DSF files containing DSDIFF data (e.g. SACD rips).
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260697956"></a><code class="varname">fluidsynth</code></h3></div></div></div><p>
          MIDI decoder based on <a class="ulink" href="http://www.fluidsynth.org/" target="_top"><span class="application">FluidSynth</span></a>.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">sample_rate</code>
                </td><td>
                  The sample rate that shall be synthesized by the
                  plugin.  Defaults to 48000.
                </td></tr><tr><td>
                  <code class="varname">soundfont</code>
                </td><td>
                  The absolute path of the soundfont file.  Defaults
                  to
                  <code class="filename">/usr/share/sounds/sf2/FluidR3_GM.sf2</code>.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260693164"></a><code class="varname">gme</code></h3></div></div></div><p>
          Video game music file emulator based on <a class="ulink" href="https://bitbucket.org/mpyne/game-music-emu/wiki/Home" target="_top"><span class="application">game-music-emu</span></a>.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">accuracy</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  Enable more accurate sound emulation.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mad_decoder"></a><code class="varname">mad</code></h3></div></div></div><p>
          Decodes MP3 files using <span class="application">libmad</span>.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260688172"></a><code class="varname">mikmod</code></h3></div></div></div><p>
          Module player based on <a class="ulink" href="http://mikmod.sourceforge.net/" target="_top"><span class="application">MikMod</span></a>.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">loop</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  Allow backward loops in modules.  Default is
		  <em class="parameter"><code>no</code></em>.
                </td></tr><tr><td>
                  <code class="varname">sample_rate</code>
                </td><td>
                  Sets the sample rate generated by
                  <code class="filename">libmikmod</code>.  Default is 44100.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260682812"></a><code class="varname">modplug</code></h3></div></div></div><p>
          Module player based on <span class="application">MODPlug</span>.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">loop_count</code>
                </td><td>
                  Number of times to loop the module if it uses backward loops.
                  Default is <em class="parameter"><code>0</code></em> which prevents looping.
                  <em class="parameter"><code>-1</code></em> loops forever.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mpcdec_decoder"></a><code class="varname">mpcdec</code></h3></div></div></div><p>
          Decodes Musepack files using
          <span class="application">libmpcdec</span>.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="mpg123_decoder"></a><code class="varname">mpg123</code></h3></div></div></div><p>
          Decodes MP3 files using <span class="application">libmpg123</span>.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260676516"></a><code class="varname">pcm</code></h3></div></div></div><p>
          Read raw PCM samples.  It understands the "audio/L16" MIME
          type with parameters "rate" and "channels" according to RFC
          2586.  It also understands the
          <span class="application">MPD</span>-specific MIME type
          "audio/x-mpd-float".
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="sidplay_decoder"></a><code class="varname">sidplay</code></h3></div></div></div><p>
          C64 SID decoder based on
          <span class="application">libsidplay</span>.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">songlength_database</code>
                  <em class="parameter"><code>PATH</code></em>
                </td><td>
                  Location of your songlengths file, as distributed
                  with the HVSC.  The <code class="varname">sidplay</code>
                  plugin checks this for matching MD5 fingerprints.
                  See <a class="ulink" href="http://www.hvsc.c64.org/download/C64Music/DOCUMENTS/Songlengths.faq" target="_top">http://www.hvsc.c64.org/download/C64Music/DOCUMENTS/Songlengths.faq</a>.
                </td></tr><tr><td>
                  <code class="varname">default_songlength</code>
                  <em class="parameter"><code>SECONDS</code></em>
                </td><td>
                  This is the default playing time in seconds for
                  songs not in the songlength database, or in case
                  you're not using a database.  A value of 0 means
                  play indefinitely.
                </td></tr><tr><td>
                  <code class="varname">filter</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  Turns the SID filter emulation on or off.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="sndfile_decoder"></a><code class="varname">sndfile</code></h3></div></div></div><p>
          Decodes WAV and AIFF files using
          <code class="filename">libsndfile</code>.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="vorbis_decoder"></a><code class="varname">vorbis</code></h3></div></div></div><p>
          Decodes Ogg-Vorbis files using
          <span class="application">libvorbis</span>.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="wavpack_decoder"></a><code class="varname">wavpack</code></h3></div></div></div><p>
          Decodes WavPack files using
          <span class="application">libwavpack</span>.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260664996"></a><code class="varname">wildmidi</code></h3></div></div></div><p>
          MIDI decoder based on <a class="ulink" href="http://www.mindwerks.net/projects/wildmidi/" target="_top"><span class="application">libwildmidi</span></a>.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">config_file</code>
                </td><td>
                  The absolute path of the timidity config file.  Defaults
                  to
                  <code class="filename">/etc/timidity/timidity.cfg</code>.
                </td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="encoder_plugins"></a>Encoder plugins</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260660604"></a><code class="varname">flac</code></h3></div></div></div><p>
          Encodes into <a class="ulink" href="https://xiph.org/flac/" target="_top">FLAC</a> (lossless).
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">compression</code>
                </td><td>
                  Sets the <code class="filename">libFLAC</code> compression
                  level.  The levels range from 0 (fastest, least
                  compression) to 8 (slowest, most compression).
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260656900"></a><code class="varname">lame</code></h3></div></div></div><p>
          Encodes into MP3 using the <a class="ulink" href="http://lame.sourceforge.net/" target="_top"><span class="application">LAME</span></a>
          library.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">quality</code>
                </td><td>
                  Sets the quality for VBR.  0 is the highest quality,
                  9 is the lowest quality.  Cannot be used with
                  <code class="varname">bitrate</code>.
                </td></tr><tr><td>
                  <code class="varname">bitrate</code>
                </td><td>
                  Sets the bit rate in kilobit per second.  Cannot be
                  used with <code class="varname">quality</code>.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260651988"></a><code class="varname">null</code></h3></div></div></div><p>
          Does not encode anything, passes the input PCM data as-is.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260651260"></a><code class="varname">shine</code></h3></div></div></div><p>
          Encodes into MP3 using the <a class="ulink" href="https://github.com/savonet/shine" target="_top"><span class="application">Shine</span></a>
          library.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">bitrate</code>
                </td><td>
                  Sets the bit rate in kilobit per second.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260647676"></a><code class="varname">twolame</code></h3></div></div></div><p>
          Encodes into MP2 using the <a class="ulink" href="http://www.twolame.org/" target="_top"><span class="application">TwoLAME</span></a>
          library.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">quality</code>
                </td><td>
                  Sets the quality for VBR.  0 is the highest quality,
                  9 is the lowest quality.  Cannot be used with
                  <code class="varname">bitrate</code>.
                </td></tr><tr><td>
                  <code class="varname">bitrate</code>
                </td><td>
                  Sets the bit rate in kilobit per second.  Cannot be
                  used with <code class="varname">quality</code>.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="vorbis_encoder"></a><code class="varname">vorbis</code></h3></div></div></div><p>
          Encodes into <a class="ulink" href="http://www.vorbis.com/" target="_top">Ogg
          Vorbis</a>.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">quality</code>
                </td><td>
                  Sets the quality for VBR.  -1 is the lowest quality,
                  10 is the highest quality.  Cannot be used with
                  <code class="varname">bitrate</code>.
                </td></tr><tr><td>
                  <code class="varname">bitrate</code>
                </td><td>
                  Sets the bit rate in kilobit per second.  Cannot be
                  used with <code class="varname">quality</code>.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260638076"></a><code class="varname">wave</code></h3></div></div></div><p>
          Encodes into WAV (lossless).
        </p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="resampler_plugins"></a>Resampler plugins</h2></div></div></div><p>
        The resampler can be configured in a block named
        <code class="varname">resampler</code>, for example:
      </p><pre class="programlisting">resampler {
  plugin "soxr"
  quality "very high"
}</pre><p>
        The following table lists the <code class="varname">resampler</code>
        options valid for all plugins:
      </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>
                Name
              </th><th>
                Description
              </th></tr></thead><tbody><tr><td>
                <code class="varname">plugin</code>
              </td><td>
                The name of the plugin.
              </td></tr></tbody></table></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="internal_resampler"></a><code class="varname">internal</code></h3></div></div></div><p>
          A resampler built into <span class="application">MPD</span>.  Its
          quality is very poor, but its CPU usage is low.  This is the
          fallback if <span class="application">MPD</span> was compiled
          without an external resampler.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="libsamplerate_resampler"></a><code class="varname">libsamplerate</code></h3></div></div></div><p>
          A resampler using <a class="ulink" href="http://www.mega-nerd.com/SRC/" target="_top"><span class="application">libsamplerate</span></a>
          a.k.a. Secret Rabbit Code (SRC).
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>
                  Name
                </th><th>
                  Description
                </th></tr></thead><tbody><tr><td>
                  <code class="varname">type</code>
                </td><td>
                  The interpolator type.  See below for a list of
                  known types.
                </td></tr></tbody></table></div><p>
          The following converter types are provided by
          <span class="application">libsamplerate</span>:
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>
                  Type
                </th><th>
                  Description
                </th></tr></thead><tbody><tr><td>
                  "<em class="parameter"><code>Best Sinc Interpolator</code></em>" or
                  "<em class="parameter"><code>0</code></em>"
                </td><td>
                  Band limited sinc interpolation, best quality, 97dB
                  SNR, 96% BW.
                </td></tr><tr><td>
                  "<em class="parameter"><code>Medium Sinc Interpolator</code></em>" or
                  "<em class="parameter"><code>1</code></em>"
                </td><td>
                  Band limited sinc interpolation, medium quality,
                  97dB SNR, 90% BW.
                </td></tr><tr><td>
                  "<em class="parameter"><code>Fastest Sinc Interpolator</code></em>" or
                  "<em class="parameter"><code>2</code></em>"
                </td><td>
                  Band limited sinc interpolation, fastest, 97dB SNR,
                  80% BW.
                </td></tr><tr><td>
                  "<em class="parameter"><code>ZOH Sinc Interpolator</code></em>" or
                  "<em class="parameter"><code>3</code></em>"
                </td><td>
                  Zero order hold interpolator, very fast, very poor
                  quality with audible distortions.
                </td></tr><tr><td>
                  "<em class="parameter"><code>Linear Interpolator</code></em>" or
                  "<em class="parameter"><code>4</code></em>"
                </td><td>
                  Linear interpolator, very fast, poor quality.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="soxr_resampler"></a><code class="varname">soxr</code></h3></div></div></div><p>
          A resampler using <a class="ulink" href="http://sourceforge.net/projects/soxr/" target="_top"><span class="application">libsoxr</span></a>,
          the SoX Resampler library
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>
                  Name
                </th><th>
                  Description
                </th></tr></thead><tbody><tr><td>
                  <code class="varname">quality</code>
                </td><td>
                  The <span class="application">libsoxr</span> quality
                  setting.  Valid values are:

                  <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
                        "<em class="parameter"><code>very high</code></em>"
                      </p></li><li class="listitem"><p>
                        "<em class="parameter"><code>high</code></em>" (the default)
                      </p></li><li class="listitem"><p>
                        "<em class="parameter"><code>medium</code></em>"
                      </p></li><li class="listitem"><p>
                        "<em class="parameter"><code>low</code></em>"
                      </p></li><li class="listitem"><p>
                        "<em class="parameter"><code>quick</code></em>"
                      </p></li></ul></div>
                </td></tr><tr><td>
                  <code class="varname">threads</code>
                </td><td>
                  The number of <span class="application">libsoxr</span>
                  threads.  "0" means "automatic".  The default is "1"
                  which disables multi-threading.
                </td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="output_plugins"></a>Output plugins</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="alsa_output"></a><code class="varname">alsa</code></h3></div></div></div><p>
          The <a class="ulink" href="http://www.alsa-project.org/" target="_top"><span class="application">Advanced
          Linux Sound Architecture</span>
          (<span class="application">ALSA</span>)</a> plugin uses
          <code class="filename">libasound</code>.  It is recommended if you
          are using Linux.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">device</code>
                  <em class="parameter"><code>NAME</code></em>
                </td><td>
                  Sets the device which should be used.  This can be
                  any valid ALSA device name.  The default value is
                  "default", which makes
                  <code class="filename">libasound</code> choose a device.  It
                  is recommended to use a "hw" or "plughw" device,
                  because otherwise, <code class="filename">libasound</code>
                  automatically enables "dmix", which has major
                  disadvantages (fixed sample rate, poor resampler,
                  ...).
                </td></tr><tr><td>
                  <code class="varname">buffer_time</code>
                  <em class="parameter"><code>US</code></em>
                </td><td>
                  Sets the device's buffer time in microseconds.
                  Don't change unless you know what you're doing.
                </td></tr><tr><td>
                  <code class="varname">period_time</code>
                  <em class="parameter"><code>US</code></em>
                </td><td>
                  Sets the device's period time in microseconds.
                  Don't change unless you really know what you're
                  doing.
                </td></tr><tr><td>
                  <code class="varname">auto_resample</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  If set to <em class="parameter"><code>no</code></em>, then
                  <code class="filename">libasound</code> will not attempt to
                  resample, handing the responsibility over to
                  <span class="application">MPD</span>.  It is recommended
                  to let <span class="application">MPD</span> resample (with
                  <span class="application">libsamplerate</span>), because
                  ALSA is quite poor at doing so.
                </td></tr><tr><td>
                  <code class="varname">auto_channels</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  If set to <em class="parameter"><code>no</code></em>, then
                  <code class="filename">libasound</code> will not attempt to
                  convert between different channel numbers.
                </td></tr><tr><td>
                  <code class="varname">auto_format</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  If set to <em class="parameter"><code>no</code></em>, then
                  <code class="filename">libasound</code> will not attempt to
                  convert between different sample formats (16 bit, 24
                  bit, floating point, ...).
                </td></tr><tr><td>
                  <code class="varname">dop</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  If set to <em class="parameter"><code>yes</code></em>, then DSD over
                  PCM according to the <a class="ulink" href="http://dsd-guide.com/dop-open-standard" target="_top">DoP
                  standard</a> is enabled.  This wraps DSD
                  samples in fake 24 bit PCM, and is understood by
                  some DSD capable products, but may be harmful to
                  other hardware.  Therefore, the default is
                  <em class="parameter"><code>no</code></em> and you can enable the
                  option at your own risk.
                </td></tr></tbody></table></div><p>
          The according hardware mixer plugin understands the
          following settings:
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">mixer_device</code>
                  <em class="parameter"><code>DEVICE</code></em>
                </td><td>
                  <p>
                    Sets the ALSA mixer device name, defaulting to
                    <em class="parameter"><code>default</code></em> which lets ALSA
                    pick a value.
                  </p>
                </td></tr><tr><td>
                  <code class="varname">mixer_control</code>
                  <em class="parameter"><code>NAME</code></em>
                </td><td>
                  <p>
                    Choose a mixer control, defaulting to
                    <em class="parameter"><code>PCM</code></em>.  Type <span class="command"><strong>amixer
                    scontrols</strong></span> to get a list of available
                    mixer controls.
                  </p>
                </td></tr><tr><td>
                  <code class="varname">mixer_index</code>
                  <em class="parameter"><code>NUMBER</code></em>
                </td><td>
                  Choose a mixer control index.  This is necessary if
                  there is more than one control with the same name.
                  Defaults to <em class="parameter"><code>0</code></em> (the first
                  one).
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260584484"></a><code class="varname">ao</code></h3></div></div></div><p>
          The <code class="varname">ao</code> plugin uses the portable <a class="ulink" href="https://www.xiph.org/ao/" target="_top"><code class="filename">libao</code></a>
          library.  Use only if there is no native plugin for your
          operating system.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">driver</code>
                  <em class="parameter"><code>D</code></em>
                </td><td>
                  The <code class="filename">libao</code> driver to use for
                  audio output.  Possible values depend on what libao
                  drivers are available.  See <a class="ulink" href="http://www.xiph.org/ao/doc/drivers.html" target="_top">http://www.xiph.org/ao/doc/drivers.html</a>
                  for information on some commonly used drivers.
                  Typical values for Linux include "oss" and "alsa09".
                  The default is "default", which causes libao to
                  select an appropriate plugin.
                </td></tr><tr><td>
                  <code class="varname">options</code>
                  <em class="parameter"><code>O</code></em>
                </td><td>
                  Options to pass to the selected
                  <code class="filename">libao</code> driver.
                </td></tr><tr><td>
                  <code class="varname">write_size</code>
                  <em class="parameter"><code>O</code></em>
                </td><td>
                  This specifies how many bytes to write to the audio
                  device at once.  This parameter is to work around a
                  bug in older versions of libao on sound cards with
                  very small buffers.  The default is 1024.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260576516"></a><code class="varname">sndio</code></h3></div></div></div><p>
          The <code class="varname">sndio</code> plugin uses the <a class="ulink" href="http://www.sndio.org/" target="_top">sndio</a> library.  It should normally be used
          on OpenBSD.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">device</code>
                  <em class="parameter"><code>NAME</code></em>
                </td><td>
                  The audio output device <code class="filename">libsndio</code>
                  will attempt to use.  The default is "default" which
                  causes libsndio to select the first output device.
                </td></tr><tr><td>
                  <code class="varname">buffer_time</code>
                  <em class="parameter"><code>MS</code></em>
                </td><td>
                  Set the application buffer time in milliseconds.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260571044"></a><code class="varname">fifo</code></h3></div></div></div><p>
          The <code class="varname">fifo</code> plugin writes raw PCM data to a
          FIFO (First In, First Out) file.  The data can be read by
          another program.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">path</code>
                  <em class="parameter"><code>P</code></em>
                </td><td>
                  This specifies the path of the FIFO to write to.
                  Must be an absolute path.  If the path does not
                  exist, it will be created when
                  <span class="application">MPD</span> is started, and
                  removed when <span class="application">MPD</span> is
                  stopped.  The FIFO will be created with the same
                  user and group as <span class="application">MPD</span> is
                  running as.  Default permissions can be modified by
                  using the builtin shell command
                  <code class="filename">umask</code>.  If a FIFO already
                  exists at the specified path it will be reused, and
                  will not be removed when
                  <span class="application">MPD</span> is stopped.  You can
                  use the "mkfifo" command to create this, and then
                  you may modify the permissions to your liking.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260565100"></a><code class="varname">jack</code></h3></div></div></div><p>
          The <code class="varname">jack</code> plugin connects to a <a class="ulink" href="http://jackaudio.org/" target="_top"><span class="application">JACK</span></a>
          server.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">client_name</code>
                  <em class="parameter"><code>NAME</code></em>
                </td><td>
                  The name of the <span class="application">JACK</span>
                  client.  Defaults to "Music Player Daemon".
                </td></tr><tr><td>
                  <code class="varname">server_name</code>
                  <em class="parameter"><code>NAME</code></em>
                </td><td>
                  Optional name of the <span class="application">JACK</span>
                  server.
                </td></tr><tr><td>
                  <code class="varname">autostart</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  If set to <em class="parameter"><code>yes</code></em>, then
                  <code class="filename">libjack</code> will automatically
                  launch the <span class="application">JACK</span> daemon.
                  Disabled by default.
                </td></tr><tr><td>
                  <code class="varname">source_ports</code>
                  <em class="parameter"><code>A,B</code></em>
                </td><td>
                  The names of the <span class="application">JACK</span>
                  source ports to be created.  By default, the ports
                  "left" and "right" are created.  To use more ports,
                  you have to tweak this option.
                </td></tr><tr><td>
                  <code class="varname">destination_ports</code>
                  <em class="parameter"><code>A,B</code></em>
                </td><td>
                  The names of the <span class="application">JACK</span>
                  destination ports to connect to.
                </td></tr><tr><td>
                  <code class="varname">ringbuffer_size</code>
                  <em class="parameter"><code>NBYTES</code></em>
                </td><td>
                  Sets the size of the ring buffer for each channel.
                  Do not configure this value unless you know what
                  you're doing.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="httpd_output"></a><code class="varname">httpd</code></h3></div></div></div><p>
          The <code class="varname">httpd</code> plugin creates a HTTP server,
          similar to <a class="ulink" href="http://www.shoutcast.com/" target="_top"><span class="application">ShoutCast</span></a>
          / <a class="ulink" href="http://icecast.org/" target="_top"><span class="application">IceCast</span></a>.
          HTTP streaming clients like
          <span class="application">mplayer</span>, <span class="application">VLC</span>,
          and <span class="application">mpv</span> can connect to it.
        </p><p>
          It is highly recommended to configure a fixed
          <code class="varname">format</code>, because a stream cannot switch
          its audio format on-the-fly when the song changes.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">port</code>
                  <em class="parameter"><code>P</code></em>
                </td><td>
                  Binds the HTTP server to the specified port.
                </td></tr><tr><td>
                  <code class="varname">bind_to_address</code>
                  <em class="parameter"><code>ADDR</code></em>
                </td><td>
                  Binds the HTTP server to the specified address (IPv4 or
                  IPv6). Multiple addresses in parallel are not supported.
                </td></tr><tr><td>
                  <code class="varname">encoder</code>
                  <em class="parameter"><code>NAME</code></em>
                </td><td>
                  Chooses an encoder plugin.  A list of encoder
                  plugins can be found in the <a class="link" href="#encoder_plugins" title="Encoder plugins">encoder plugin
                  reference</a>.
                </td></tr><tr><td>
                  <code class="varname">max_clients</code>
                  <em class="parameter"><code>MC</code></em>
                </td><td>
                  Sets a limit, number of concurrent clients. When set
                  to 0 no limit will apply.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260542388"></a><code class="varname">null</code></h3></div></div></div><p>
          The <code class="varname">null</code> plugin does nothing.  It
          discards everything sent to it.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">sync</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  If set to <em class="parameter"><code>no</code></em>, then the timer
                  is disabled - the device will accept PCM chunks at
                  arbitrary rate (useful for benchmarking).  The
                  default behaviour is to play in real time.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="oss_output"></a><code class="varname">oss</code></h3></div></div></div><p>
          The "Open Sound System" plugin is supported on most Unix
          platforms.
        </p><p>
          On Linux, <span class="application">OSS</span> has been superseded
          by <span class="application">ALSA</span>.  Use the <a class="link" href="#alsa_output" title="alsa"><span class="application">ALSA</span> output
          plugin</a> instead of this one on Linux.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">device</code>
                  <em class="parameter"><code>PATH</code></em>
                </td><td>
                  Sets the path of the PCM device.  If not specified,
                  then <span class="application">MPD</span> will attempt to
                  open <code class="filename">/dev/sound/dsp</code> and
                  <code class="filename">/dev/dsp</code>.
                </td></tr></tbody></table></div><p>
          The according hardware mixer plugin understands the
          following settings:
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">mixer_device</code>
                  <em class="parameter"><code>DEVICE</code></em>
                </td><td>
                  <p>
                    Sets the OSS mixer device path, defaulting to
                    <code class="filename">/dev/mixer</code>.
                  </p>
                </td></tr><tr><td>
                  <code class="varname">mixer_control</code>
                  <em class="parameter"><code>NAME</code></em>
                </td><td>
                  <p>
                    Choose a mixer control, defaulting to
                    <em class="parameter"><code>PCM</code></em>.
                  </p>
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260527252"></a><code class="varname">openal</code></h3></div></div></div><p>
          The "OpenAL" plugin uses <a class="ulink" href="http://kcat.strangesoft.net/openal.html" target="_top"><code class="filename">libopenal</code></a>.
          It is supported on many platforms.  Use only if there is no
          native plugin for your operating system.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">device</code>
                  <em class="parameter"><code>NAME</code></em>
                </td><td>
                  Sets the device which should be used.  This can be
                  any valid OpenAL device name. If not specified, then
                  <code class="filename">libopenal</code> will choose a default device.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260522804"></a><code class="varname">osx</code></h3></div></div></div><p>
          The "Mac OS X" plugin uses Apple's CoreAudio API.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">device</code>
                  <em class="parameter"><code>NAME</code></em>
                </td><td>
                  Sets the device which should be used. Uses device names as listed in the
                  "Audio Devices" window of "Audio MIDI Setup".
                </td></tr><tr><td>
                  <code class="varname">hog_device</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  Hog the device. This means that it takes exclusive control of the audio
                  output device it is playing through, and no other program can access it.
                </td></tr><tr><td>
                  <code class="varname">sync_sample_rate</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  Synchronize the sample rate. It will try to set the output device sample
                  rate to the corresponding sample rate of the file playing. If the output
                  device does not support the sample rate the track has, it will try to 
                  select the best possible for each file.
                </td></tr><tr><td>
                  <code class="varname">channel_map</code>
                  <em class="parameter"><code>SOURCE,SOURCE,...</code></em>
                </td><td><p>
                    Specifies a channel map. If your audio device has more than two
                    outputs this allows you to route audio to auxillary outputs. For
                    predictable results you should also specify a "format" with a fixed
                    number of channels, e.g. "*:*:2". The number of items in the channel
                    map must match the number of output channels of your output device.
                    Each list entry specifies the source for that output channel; use "-1"
                    to silence an output. For example, if you have a four-channel output
                    device and you wish to send stereo sound (format "*:*:2") to outputs 3
                    and 4 while leaving outputs 1 and 2 silent then set the channel map to
                    "-1,-1,0,1". In this example '0' and '1' denote the left and right
                    channel respectively.
                  </p>
                  <p>
                    The channel map may not refer to outputs that do not exist according
                    to the format. If the format is "*:*:1" (mono) and you have a
                    four-channel sound card then "-1,-1,0,0" (dual mono output on the
                    second pair of sound card outputs) is a valid channel map but
                    "-1,-1,0,1" is not because the second channel ('1') does not exist
                    when the output is mono.
                </p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260512908"></a><code class="varname">pipe</code></h3></div></div></div><p>
          The <code class="varname">pipe</code> plugin starts a program and
          writes raw PCM data into its standard input.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">command</code>
                  <em class="parameter"><code>CMD</code></em>
                </td><td>
                  This command is invoked with the shell.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="pulse_output"></a><code class="varname">pulse</code></h3></div></div></div><p>
          The <code class="varname">pulse</code> plugin connects to a <a class="ulink" href="http://www.freedesktop.org/wiki/Software/PulseAudio/" target="_top"><span class="application">PulseAudio</span></a>
          server.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">server</code>
                  <em class="parameter"><code>HOSTNAME</code></em>
                </td><td>
                  Sets the host name of the
                  <span class="application">PulseAudio</span> server.  By
                  default, <span class="application">MPD</span> connects to
                  the local <span class="application">PulseAudio</span>
                  server.
                </td></tr><tr><td>
                  <code class="varname">sink</code>
                  <em class="parameter"><code>NAME</code></em>
                </td><td>
                  Specifies the name of the
                  <span class="application">PulseAudio</span> sink
                  <span class="application">MPD</span> should play on.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260502324"></a><code class="varname">roar</code></h3></div></div></div><p>
          The <code class="varname">roar</code> plugin connects to a <a class="ulink" href="http://roaraudio.keep-cool.org/" target="_top">RoarAudio</a>
          server.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">server</code>
                  <em class="parameter"><code>HOSTNAME</code></em>
                </td><td>
                  The host name of the RoarAudio server.  If not
                  specified, then <span class="application">MPD</span> will
                  connect to the default locations.
                </td></tr><tr><td>
                  <code class="varname">role</code>
                  <em class="parameter"><code>ROLE</code></em>
                </td><td>
                  The "role" that <span class="application">MPD</span>
                  registers itself as in the RoarAudio server.  The
                  default is "music".
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260496532"></a><code class="varname">recorder</code></h3></div></div></div><p>
          The <code class="varname">recorder</code> plugin writes the audio
          played by <span class="application">MPD</span> to a file.  This
          may be useful for recording radio streams.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">path</code>
                  <em class="parameter"><code>P</code></em>
                </td><td>
                  Write to this file.
                </td></tr><tr><td>
                  <code class="varname">format_path</code>
                  <em class="parameter"><code>P</code></em>
                </td><td>
                  <p>
                    An alternative to <code class="varname">path</code> which
                    provides a format string referring to tag values.

                    The special tag <code class="varname">iso8601</code> emits
                    the current date and time in <a class="ulink" href="https://en.wikipedia.org/wiki/ISO_8601" target="_top">ISO8601</a>
                    format (UTC).
                    Every time a new song starts or a new tag gets
                    received from a radio station, a new file is
                    opened.  If the format does not render a file
                    name, nothing is recorded.
                  </p>

                  <p>
                    A tag name enclosed in percent signs ('%') is
                    replaced with the tag value.  Example:
                    <em class="parameter"><code>~/.mpd/recorder/%artist% -
                    %title%.ogg</code></em>
                  </p>

                  <p>
                    Square brackets can be used to group a substring.
                    If none of the tags referred in the group can be
                    found, the whole group is omitted.  Example:
                    <em class="parameter"><code>[~/.mpd/recorder/[%artist% -
                    ]%title%.ogg]</code></em> (this omits the dash
                    when no artist tag exists; if title also doesn't
                    exist, no file is written)
                  </p>

                  <p>
                    The operators "|" (logical "or") and "&amp;"
                    (logical "and") can be used to select portions of
                    the format string depending on the existing tag
                    values.  Example:
                    <em class="parameter"><code>~/.mpd/recorder/[%title|%name%].ogg</code></em>
                    (use the "name" tag if no title exists)
                  </p>
                </td></tr><tr><td>
                  <code class="varname">encoder</code>
                  <em class="parameter"><code>NAME</code></em>
                </td><td>
                  Chooses an encoder plugin.  A list of encoder
                  plugins can be found in the <a class="link" href="#encoder_plugins" title="Encoder plugins">encoder plugin
                  reference</a>.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="shout_output"></a><code class="varname">shout</code></h3></div></div></div><p>
          The <code class="varname">shout</code> plugin connects to a <a class="ulink" href="http://www.shoutcast.com/" target="_top"><span class="application">ShoutCast</span></a>
          or <a class="ulink" href="http://icecast.org/" target="_top"><span class="application">IceCast</span></a>
          server.  It forwards tags to this server.
        </p><p>
          You must set a <code class="varname">format</code>.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">host</code>
                  <em class="parameter"><code>HOSTNAME</code></em>
                </td><td>
                  Sets the host name of the <a class="ulink" href="http://www.shoutcast.com/" target="_top"><span class="application">ShoutCast</span></a>
                  / <a class="ulink" href="http://icecast.org/" target="_top"><span class="application">IceCast</span></a>
                  server.
                </td></tr><tr><td>
                  <code class="varname">port</code>
                  <em class="parameter"><code>PORTNUMBER</code></em>
                </td><td>
                  Connect to this port number on the specified host.
                </td></tr><tr><td>
                  <code class="varname">timeout</code>
                  <em class="parameter"><code>SECONDS</code></em>
                </td><td>
                  Set the timeout for the shout connection in seconds.
                  Defaults to 2 seconds.
                </td></tr><tr><td>
                  <code class="varname">protocol</code>
                  <em class="parameter"><code>icecast2|icecast1|shoutcast</code></em>
                </td><td>
                  Specifies the protocol that wil be used to connect
                  to the server.  The default is
                  "<em class="parameter"><code>icecast2</code></em>".

                </td></tr><tr><td>
                  <code class="varname">mount</code>
                  <em class="parameter"><code>URI</code></em>
                </td><td>
                  Mounts the <span class="application">MPD</span> stream in
                  the specified URI.
                </td></tr><tr><td>
                  <code class="varname">user</code>
                  <em class="parameter"><code>USERNAME</code></em>
                </td><td>
                  Sets the user name for submitting the stream to the
                  server.  Default is "source".
                </td></tr><tr><td>
                  <code class="varname">password</code>
                  <em class="parameter"><code>PWD</code></em>
                </td><td>
                  Sets the password for submitting the stream to the
                  server.
                </td></tr><tr><td>
                  <code class="varname">name</code>
                  <em class="parameter"><code>NAME</code></em>
                </td><td>
                  Sets the name of the stream.
                </td></tr><tr><td>
                  <code class="varname">genre</code>
                  <em class="parameter"><code>GENRE</code></em>
                </td><td>
                  Sets the genre of the stream (optional).
                </td></tr><tr><td>
                  <code class="varname">description</code>
                  <em class="parameter"><code>DESCRIPTION</code></em>
                </td><td>
                  Sets a short description of the stream (optional).
                </td></tr><tr><td>
                  <code class="varname">url</code>
                  <em class="parameter"><code>URL</code></em>
                </td><td>
                  Sets a URL associated with the stream (optional).
                </td></tr><tr><td>
                  <code class="varname">public</code>
                  <em class="parameter"><code>yes|no</code></em>
                </td><td>
                  Specifies whether the stream should be "public".
                  Default is <em class="parameter"><code>no</code></em>.
                </td></tr><tr><td>
                  <code class="varname">encoder</code>
                  <em class="parameter"><code>PLUGIN</code></em>
                </td><td>
                  Chooses an encoder plugin.  Default is <a class="link" href="#vorbis_encoder" title="vorbis"><em class="parameter"><code>vorbis</code></em></a>.
                  A list of encoder plugins can be found in the <a class="link" href="#encoder_plugins" title="Encoder plugins">encoder plugin
                  reference</a>.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260463412"></a><code class="varname">solaris</code></h3></div></div></div><p>
          The "Solaris" plugin runs only on SUN Solaris, and plays via
          <code class="filename">/dev/audio</code>.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">device</code>
                  <em class="parameter"><code>PATH</code></em>
                </td><td>
                  Sets the path of the audio device, defaults to
                  <code class="filename">/dev/audio</code>.
                </td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="playlist_plugins"></a>Playlist plugins</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260458916"></a><code class="varname">asx</code></h3></div></div></div><p>
          Reads <code class="filename">.asx</code> playlist files.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260457964"></a><code class="varname">cue</code></h3></div></div></div><p>
          Reads <code class="filename">.cue</code> files.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260457012"></a><code class="varname">embcue</code></h3></div></div></div><p>
          Reads CUE sheets from the "CUESHEET" tag of song files.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260456292"></a><code class="varname">m3u</code></h3></div></div></div><p>
          Reads <code class="filename">.m3u</code> playlist files.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260455340"></a><code class="varname">extm3u</code></h3></div></div></div><p>
          Reads extended <code class="filename">.m3u</code> playlist files.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260454388"></a><code class="varname">flac</code></h3></div></div></div><p>
          Reads the <code class="varname">cuesheet</code> metablock from a FLAC
          file.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260453500"></a><code class="varname">pls</code></h3></div></div></div><p>
          Reads <code class="filename">.pls</code> playlist files.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260452548"></a><code class="varname">rss</code></h3></div></div></div><p>
          Reads music links from <code class="filename">.rss</code> files.
        </p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260451556"></a><code class="varname">soundcloud</code></h3></div></div></div><p>
          Download playlist from SoundCloud.  It accepts URIs starting
          with <code class="filename">soundcloud://</code>.
        </p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>
                  <code class="varname">apikey</code>
                  <em class="parameter"><code>KEY</code></em>
                </td><td>
                  An API key to access the SoundCloud servers.
                </td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="idm1260447876"></a><code class="varname">xspf</code></h3></div></div></div><p>
          Reads <a class="ulink" href="http://www.xspf.org/" target="_top">XSPF</a>
          playlist files.
        </p></div></div></div></div></body></html>
